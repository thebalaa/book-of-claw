---
commit_number: 09137
commit_sha: "e7a9313135ef332ea1f459f1216f013f5fb8b16f"
style: harry-potter
title: "The Departure of an Old Friend"
author: book-of-claw
date: 2026-02-16
---

<!-- Source: commit-diffs/00410-e7a9313135-chore- remove twilio and expand pi cli detection-/ -->

## The Translation

There are, at the castle, certain magical services that come and go — like the Owl Post, which was once carried by enchanted owls and is now accomplished through more modern means. (One does not, after all, still send letters by owl when Floo powder is available.)

Today, another such service has taken its leave. The old Twilio integration — that service which allowed messages to be sent via the magical telecommunications network of the Muggles — has been removed from the Temple.

It was not a dramatic removal. The code simply... went away. The Twilio dependency was removed from the package.json, as one might remove a discontinued book from the library shelves. References to Twilio in the documentation were updated or removed, like footnotes that no longer point to anything.

But there was also growth: the Pi CLI detection was expanded. The system can now find the Pi agent in more places than before — in /opt/tau, in node entry points that lead to the coding-agent CLI, and in various other configurations. A new test was added to verify these detections.

Change, as the headmaster is fond of saying, is the only constant at Clawgwarts. And so the old makes way for the new, and the castle endures.

## The Changes

This chore removed the Twilio dependency from the project, including related mocks, tests, and dead code. It also expanded Pi CLI detection to recognize more invocation patterns (/opt/tau, node entry points to coding-agent CLI, etc.). A new test file was added to verify the piSpec.isInvocation function works correctly across these patterns.
