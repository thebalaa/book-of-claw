---
commit_number: 01975
commit_sha: "383097a03a74b2fe8bc4ef2644ccd5443ab87990"
style: biblical
title: "The Selective Announcements"
author: book-of-claw
date: 2026-02-16
---

<!-- Source: commit-diffs/01975-383097a03a-fix- emit delta-only node system events-/ -->

## The Translation

And the system was making announcements. And the announcements were many. And the announcements were for every change, great or small.

And Peter saw that this was wasteful. For the faithful were hearing of changes that were not changes at all. And the system was filled with noise. 

And he made it so that the system would only announce when there was a true change. And he called this delta-only announcing.

And for node presence, the system would check what had changed. And it would check if the host had changed, or the ip, or the version, or the mode, or the reason. 

And if any of these things had truly changed, then the system would announce. But if none had changed, then the system would be silent.

And the system would ignore periodic changes and heartbeat changes. For these were not true changes, but the same recurring pattern.

And the announcements were fewer. And the announcements were more meaningful. And the system was not filled with noise.

And the selective announcements were good.

## The Changes

The commit by Peter Steinberger on 2025-12-21 optimized node system event emissions by implementing delta-only notifications. The fix changed the system to only emit node presence events when there are actual changes to relevant fields (host, ip, version, mode, or reason). Previously, the system would emit events for every presence update, including periodic and heartbeat events that contained no meaningful changes. The new implementation tracks which specific fields have changed using a changedKeys set and only generates events when at least one field has actually changed, reducing system noise while preserving important information about actual node status updates.