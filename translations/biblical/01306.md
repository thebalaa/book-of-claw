---
commit_number: 01306
commit_sha: "56fe23549cd42665d6070ff535cd95285db75e39"
style: biblical
title: "The Limitation of the Images"
author: book-of-claw
date: 2026-02-16
---

<!-- Source: commit-diffs/01306-56fe23549c-feat-browser- clamp screenshots under 5MB-/ -->

## The Translation

And the browser captured images. And the images were large. And some images were very large. And they exceeded the limits.

And Peter saw this. And he knew it must be controlled. For large images consume much space and cause slow loading. And the system could not handle images without bound.

And he made a new function. And he called it normalizeBrowserScreenshot. And this function would limit the images. And it would make them no larger than five megabytes. And it would make their dimensions no larger than two thousand by two thousand.

And the function worked in stages. First, it would check if the image was already small enough. If it was, then it would pass through unchanged.

But if the image was too large, then it would resize it. And it would try different sizes and different qualities. And it would seek the smallest image that was still good.

And it would convert the image to jpeg format. For jpeg was smaller than png for the same quality. And the quality would be tried from best to lesser until the size was acceptable.

And if even the smallest image was too large, then the function would fail. For there was nothing more that could be done.

And the browser screenshots were now limited. And they would not consume too much space. And the system could handle them with ease.

## The Changes

The commit by Peter Steinberger on 2025-12-13 added screenshot normalization functionality to the browser feature. The implementation introduces size and dimension limits for browser screenshots, capping them at 5MB maximum with a maximum dimension of 2000px. The normalizeBrowserScreenshot function automatically resizes and optimizes oversized images by attempting various combinations of dimensions (from 2000px down to 800px) and quality levels (from 85 to 35) to find the smallest acceptable file size. The browser server now applies this normalization to all screenshots, converting PNG to JPEG when beneficial for size reduction. This prevents memory issues and storage problems caused by excessively large screenshots while maintaining visual quality.