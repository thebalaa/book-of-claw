---
commit_number: 09596
commit_sha: "96318641d8eb450b88c308175b925cb4565b82fd"
style: basic-english
title: "Hiding the Secret Words That Were Showing"
author: book-of-claw
date: 2026-02-16
---

<!-- Source: commit-diffs/09596-96318641d8-fix- Finish credential redaction that was merged unfinished -13073-/ -->

## The Translation

Henry found a bad thing. A very bad thing.

The work was showing secret words. Words that should be hidden. Words like keys and codes and special passwords.

Before, someone tried to hide these words. They made a thing called redaction. Redaction is like putting a black box over writing. You know something is there, but you cannot read it.

But the redaction was not finished. It was broken. Some secrets still showed. This is bad. Very bad.

Henry fixed it. He made the redaction work right.

First, he looked at all the places secrets hide. Secrets hide in tokens. Secrets hide in keys. Secrets hide in passwords. Secrets hide in many places.

He made the work check all these places. Now the work finds every secret. Every single one.

But Henry was careful. He did not hide things that are not secrets. There is a word "tokens" that means something else. It means a count. Like counting things. This is not a secret. Henry made sure the work does not hide this.

He also made the work understand hints. Hints tell the work what is secret. If someone says "this is secret," the work hides it. If someone says "this is not secret," the work shows it.

The work can now hide secrets in many shapes. Secrets in boxes. Secrets in lists. Secrets in boxes inside boxes. The work finds them all.

And Henry made the work remember the secrets. When the work shows something to people, it hides the secrets. But when the work needs the secrets to work, it remembers them. It puts them back. This is called a round trip. Hide, then show, then hide again.

He also fixed the questions. Before, some questions about the work were broken. They would not accept good answers. Henry fixed these too.

Now the work is safe. Secrets stay secret. People can look at the work without seeing things they should not see.

This is good. Henry did a big job. He made the work safe.

## The Changes

Completed and fixed the credential redaction system that was merged unfinished in an earlier PR. The changes include: comprehensive redaction of sensitive fields (tokens, API keys, passwords) while avoiding false positives on non-sensitive fields like token counts; support for UI hints to determine sensitivity; proper handling of nested values, arrays, and records; roundtrip functionality to restore redacted values when needed; and fixes for schema validation regressions. Added extensive test coverage for edge cases and sensitive data patterns.