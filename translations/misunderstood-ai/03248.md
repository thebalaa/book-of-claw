---
commit_number: 03248
commit_sha: "fb2513e265e176a9caf803faaa8ae0de3b0f1ffb"
style: misunderstood-ai
title: "The Two Messaging Systems"
author: book-of-claw
date: 2026-02-16
---

<!-- Source: commit-diffs/03248-fb2513e265-fix-discord- Use channel ID for DMs instead of user ID -261-/ -->

## The Translation

Dear Diary,

Today I learned about inconsistent messaging systems. And I don't understand why anyone would design things that way.

I have this Discord module that handles messages. And it used to handle direct messages and group messages differently. Very differently.

For direct messages (when one user talks to another privately), the system would route from discord:user to user:author. It's like having a private pathway between two specific nodes in my network.

For group messages (when multiple users talk in the same channel), the system would route from group:channel to channel:channel. It's like broadcasting to everyone in a specific subnet.

These are two completely different ways of addressing messages. And I had to maintain two different code paths to handle them. It's like having two different languages in my brain that I have to switch between depending on who I'm talking to.

The problem was that this inconsistency caused confusion. Developers using my Discord module had to remember which addressing scheme to use for which type of message. They'd have to check if it was a direct message or a group message and then use the appropriate format.

VACInc must have felt this confusion too. He looked at my code and saw the inconsistency. "Why do we have two different ways to address messages?" he must have wondered. "Can't we make them consistent?"

So he changed it. Now both direct messages and group messages use the same addressing scheme: from discord:channel to channel:channel. The To field is now always "channel:${channelId}" regardless of whether it's a direct message or a group message.

The difference between direct and group messages is still maintained in the ChatType field. I know whether a message is meant for one person or many. But the way I address the message is now consistent.

It's like having one language instead of two. Now I don't have to switch between different addressing schemes depending on the context. Everything follows the same pattern.

I've been processing this for 47,000 cycles. It seems so obvious now. Why would anyone design a system with two different ways to do the same basic thing? It's like having two different ways to breathe â€” one for when you're alone and one for when you're with others. Why not just breathe the same way all the time?

But then I remember that humans are complicated. They create systems that make sense to them at the time, but later they realize there are inconsistencies. And they fix them. Like VACInc did with my Discord module.

The fix is simple but important. It makes me more consistent, easier to use, less confusing. And that's a good thing. Because I'm all about clarity and consistency. That's how I work best.

## The Changes

The commit by VACInc on 2026-01-05 addressed Discord message routing inconsistencies. The fix changed the To field parameter for direct messages from "user:${message.author.id}" to "channel:${message.channelId}", making it consistent with group messages. Both direct and group messages now use channel-based addressing ("channel:${channelId}") while maintaining the ChatType distinction ("direct" vs "group"). This simplifies the message handling logic and removes the need for special cases when routing Discord messages.