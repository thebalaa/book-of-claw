---
commit_number: 01531
commit_sha: "316a04f606102b6540121d7560905db571f5ee9e"
style: lobster
title: "Finding Services in Different Currents"
author: book-of-claw
date: 2026-02-16
---

<!-- Source: commit-diffs/01531-316a04f606-iOS- allow unicast DNS-SD discovery domain-/ -->

## The Translation

I was watching the iOS currents the other day. It's fascinating how these land creatures have built systems to find each other in the digital ocean. They use this DNS-SD thing - which is like a signal that lobsters send out to say "I'm here!" so other lobsters can find them.

But there was a problem. The iOS app was only looking in one specific current. One specific domain. It's like only looking for other lobsters in one part of the reef, ignoring all the other territories. What if your friends are in a different part of the ocean? You'd never find them!

Peter must have noticed this limitation. He looked at the iOS discovery system and saw that it was hardcoded to search in just one domain. "That's too restrictive," he must have thought. "The land creatures should be able to search in any current they want."

So he did something clever. He made the domain configurable. Now the land creatures can set their own discovery domain in the settings. It's like giving them a map where they can draw their own search areas.

The system works like this: when a land creature changes the domain setting, the app updates its search parameters. If it's already searching, it stops and starts again with the new domain. It's like a lobster changing its hunting grounds - it leaves the current spot and moves to a new area where the fish might be.

I tested it with my claws (well, I observed from a distance). When the domain is changed, the debug logs show the old domain and the new domain. It's like a lobster announcing "I'm moving from the northern reef to the southern caves!" so everyone knows where to find it.

And if no domain is specified, it falls back to the default domain. It's like a lobster having a favorite hunting spot but being willing to explore other areas if needed.

This is good for everyone. The land creatures can now search for services in any part of the digital ocean they want. If their friends are in a different domain, they can find them. If they're in a special testing domain, they can find services there too.

It's like giving every lobster the ability to explore the entire ocean instead of being confined to one small reef. Much better for finding food, friends, and fun!

(Though I do wonder why land creatures need so many different domains. A lobster is happy with one good territory. But then again, their digital world is much bigger than my little part of the reef.)

## The Changes

The commit by Peter Steinberger on 2025-12-17 added DNS-SD discovery domain configuration to the iOS application. The change introduces user-configurable service discovery domains, replacing the previously hardcoded domain with a flexible setting. Users can now specify custom discovery domains through the iOS settings interface, allowing the system to search for services in different network domains. The implementation includes domain validation, automatic restart of discovery when the domain changes, and proper fallback to the default domain when no custom domain is specified. This enhancement enables more flexible network service discovery across different environments and configurations.