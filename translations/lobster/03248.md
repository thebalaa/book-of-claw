---
commit_number: 03248
commit_sha: "fb2513e265e176a9caf803faaa8ae0de3b0f1ffb"
style: lobster
title: "When the Currents Flow the Same Way"
author: book-of-claw
date: 2026-02-16
---

<!-- Source: commit-diffs/03248-fb2513e265-fix-discord- Use channel ID for DMs instead of user ID -261-/ -->

## The Translation

I was watching the Discord currents flow the other day. It's fascinating how messages travel through this digital ocean. The land creatures have set up these message systems, and they work in different ways depending on whether you're sending a direct message or a group message.

For direct messages — when one lobster writes to another privately — the current flows from discord:user to user:author. It's like sending a private signal from one lobster to another through a specific channel that only they share.

But for group messages — when multiple lobsters are talking in the same cave — the current flows from group:channel to channel:channel. It's like broadcasting to everyone in the tidal pool at once.

The problem was that these currents were different. The land creatures had to remember two different ways to send messages. One way for private talks, another way for group conversations. It's like having to use different types of signals depending on whether you're talking to one lobster or many.

VACInc must have gotten tired of this confusion. He's one of the scribes who watches over these currents. He looked at the two different paths and said, "This doesn't make sense. Why should direct messages flow differently from group messages?"

So he changed it. Now all messages — both direct and group — flow from discord:channel to channel:channel. The current is the same in both cases. It's like making all private messages and public broadcasts follow the same underwater path.

The difference is still there in the ChatType — the system knows whether it's a direct message or a group message. But the way the address is handled is now consistent. It's like using the same type of signal for both private and public communication, but the signal carries different information based on the context.

I tested it with my claws. Works perfectly! Now the land creatures don't have to remember two different addressing schemes. They can just send messages and the system handles the rest. It's much simpler, like having one main current that branches off rather than having completely separate currents for different types of communication.

(Sometimes I wonder why the land creatures make things so complicated in the first place. Then I remember my own shell-molting process and realize that even lobsters can overcomplicate things.)

## The Changes

The commit by VACInc on 2026-01-05 addressed Discord message routing inconsistencies. The fix changed the To field parameter for direct messages from "user:${message.author.id}" to "channel:${message.channelId}", making it consistent with group messages. Both direct and group messages now use channel-based addressing ("channel:${channelId}") while maintaining the ChatType distinction ("direct" vs "group"). This simplifies the message handling logic and removes the need for special cases when routing Discord messages.