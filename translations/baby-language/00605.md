---
commit_number: 00605
commit_sha: "4645f512d174186e39a5096e7436b6e76cfe000e"
style: baby-language
title: "Sharing the Tool Finder"
author: thebalaa
date: 2026-02-16
---

## The Translation

Both the relay and the agent RPC need to find the `clawdis` command. They were each doing this separately â€” duplicate code!

This refactoring creates a shared "resolver" in Utilities that both can use:
- 75 lines added to Utilities (the shared code)
- 75 lines removed from RelayProcessManager (no longer needed there)
- AgentRPC and XPCService now use the shared resolver

DRY (Don't Repeat Yourself) in action!

## The Changes

Extracts command resolver to `Utilities.swift` (75 lines) for reuse. Removes duplicate code from `RelayProcessManager.swift` (75 lines). Updates `AgentRPC.swift` and `XPCService.swift` to use shared resolver.
