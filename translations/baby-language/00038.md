---
commit_number: 00038
commit_sha: "17b4c5e7e7c56a202fa670cd42c6dbf89a831291"
style: baby-language
title: "Better Logging for Templated Commands"
author: thebalaa
date: 2026-02-16
---

<!-- Source: commit-diffs/00038-17b4c5e7e7-Log templated command argv and enforce timeout kill-/ -->

## The Translation

Peter improved how command logging works with templates. When you use templates like `{{Body}}` in your command, the program now shows the actual resolved command that runs (after template substitution), not the template itself.

Before: "Running command: claude {{Body}}"
After: "Running command: claude What is the weather?"

It also enforces the timeout more strictly - using Node's signal option to ensure the command actually gets killed when time's up. Previously the timeout might not have worked reliably.

It's like showing someone the finished recipe with actual ingredients instead of showing them "add {{ingredient}}" placeholders.

## The Changes

This commit improved command logging and timeout enforcement:

- Log the resolved argv (after template substitution) instead of template
- Added `signal: 'SIGTERM'` to execFile options for reliable timeout enforcement
- Improved verbose logging to show what actually executes

Now logs clearly show what command ran, and timeouts kill processes reliably.
