---
commit_number: 00594
commit_sha: "69cb71ad7e6cf4db320f81f5c991263894af81e2"
style: baby-language
title: "A Persistent Helper for Agent Messages"
author: thebalaa
date: 2026-02-16
---

## The Translation

Starting a new process for every message is slow. It's like making a new phone call for every sentence instead of keeping the line open!

This commit creates a "persistent RPC worker" â€” a helper process that stays running:
- Start it once when the app launches
- It stays alive, waiting for messages
- Send messages instantly through the existing connection

127 lines in the new `AgentRPC.swift` file handle all this. Much faster than spawning a new process each time!

## The Changes

Adds `AgentRPC.swift` (127 lines) implementing a persistent RPC worker for agent sends. Updates `XPCService.swift` (14 lines) to use the new worker.
