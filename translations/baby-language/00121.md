---
commit_number: 00121
commit_sha: "072998a6ab7241d130585398a26224c3c04ca486"
style: baby-language
title: "Putting the Picture-Finder in Its Own Box"
author: thebalaa
date: 2026-02-16
---

## The Translation

When you have a messy room with toys everywhere, sometimes you pick up all the Legos and put them in their own special Lego box. That makes it easier to find them later and keeps your room tidy!

The code that finds MEDIA tokens (those picture addresses) was mixed in with a bunch of other stuff. It was messy. So we took all that picture-finding code and moved it to its own special file called `media/parse.ts`.

Now the main file is 42 lines smaller and much cleaner! And when we need to find pictures, we know exactly where to look. Everything in its place.

## The Changes

Extracts MEDIA token parsing logic into a dedicated `media/parse.ts` module. Removes 42 lines from the reply handler and adds proper tests for the new parser module.
