---
commit_number: 00106
commit_sha: "54c763a679cc7e1bd60285f3c0a81568cf26d11a"
style: baby-language
title: "Telling the Helper About Pictures"
author: impozzible
date: 2026-02-16
---

<!-- Source: commit-diffs/00106-54c763a6-chore: surface media URL in command prompts and tests-/ -->

## The Translation

Peter made sure that when the program asks a helper (like an AI assistant) to respond to a message, it tells the helper about any pictures that came with it.

Now when someone sends a photo, the program adds a little note at the top of the message, like:
> [media attached: /path/to/photo.jpg (image/jpeg) | http://example.com/photo.jpg]

This way, the helper knows "hey, there's a picture here!" and can decide what to do about it.

Peter also added a hint that explains how to send a picture back:
> To send an image back, add a line like: MEDIA:https://example.com/image.jpg

It's like giving the helper a sticky note with instructions.

One more thing: if the helper's response includes "MEDIA:" followed by a web address, the program now knows to send that image along with the reply. The helper can say "here's the answer, and also send this picture!"

## The Changes

Peter Steinberger updated `src/auto-reply/reply.ts` on November 25, 2025 to prepend media metadata to command prompts. When media is attached, the prompt now includes a bracketed note with MediaPath, MediaType, and MediaUrl. For command-mode replies, a hint is added explaining the `MEDIA:` syntax. The code also parses `MEDIA: <url>` from command stdout to extract media URLs for replies. Tests updated to verify media info appears in command input.
