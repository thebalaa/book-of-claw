---
commit_number: 00052
commit_sha: "5ee4f3219da8f15c8b5f7e1e00ab5e8b7ee43c58"
style: baby-language
title: "Adding Coverage Thresholds"
author: thebalaa
date: 2026-02-16
---

<!-- Source: commit-diffs/00052-5ee4f3219d-Add coverage run with thresholds and align tests to utils-/ -->

## The Translation

Peter set up code coverage tracking with minimum thresholds. Coverage measures what percentage of the code is tested. Now the tests must cover at least a certain percentage or they fail.

It's like setting a goal: "We must test at least 80% of our code." This prevents the codebase from losing test coverage as new features are added.

He also aligned the test structure to match the new utils module organization.

## The Changes

This commit added coverage thresholds:

- Configured vitest to track coverage percentages
- Set minimum coverage thresholds (e.g., 80% lines, 75% branches)
- Added coverage npm script
- Tests now fail if coverage drops below threshold
- Aligned test files to match src structure

Code quality is now enforced through coverage requirements.
