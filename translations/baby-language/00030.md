---
commit_number: 00030
commit_sha: "4f32120176da49abfb5ce0b4e3a2be227ebce3c5"
style: baby-language
title: "Fixing Path Handling and Logging All Requests"
author: thebalaa
date: 2026-02-16
---

<!-- Source: commit-diffs/00030-4f32120176-Normalize webhook path- always log inbound- fix Twilio webhook field names- log / -->

## The Translation

Peter made several small but important fixes:

First, he added path normalization. If you forget the leading slash and type `webhook/whatsapp` instead of `/webhook/whatsapp`, the program now automatically adds it. It's like autocorrecting a small typo.

Second, he changed request logging to always happen (not just in verbose mode). Now every HTTP request to the webhook server gets logged in gray, so you can see what's hitting your server. Inbound WhatsApp messages are always logged too (not just in verbose), but the message body only shows in verbose mode.

Third, he fixed the Twilio API field names. Twilio's SDK expects camelCase (like `callbackUrl`), not PascalCase (like `CallbackUrl`). So he changed the webhook update calls to use the right names: `callbackUrl`, `callbackMethod`, `smsUrl`, `smsMethod`.

He also added 404 logging in verbose mode so you can see when requests hit the wrong path.

## The Changes

This commit improved path handling and logging:

- Created `normalizePath()` function to ensure paths start with `/`
- Changed request logging to always run (not just in verbose mode)
- Changed inbound message logging to always show From/To/MessageSid, with Body only in verbose mode
- Added 404 logging in verbose mode
- Fixed Twilio webhook field names from PascalCase to camelCase: `CallbackUrl` → `callbackUrl`, `CallbackMethod` → `callbackMethod`, `SmsUrl` → `smsUrl`, `SmsMethod` → `smsMethod`
- Used normalized path when logging and registering webhook route

These changes make webhook debugging easier and fix potential API compatibility issues.
