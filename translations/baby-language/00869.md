---
commit_number: 00869
commit_sha: "59a2cbefcbd3b599d6d8ed4ac697073ed37376c8"
style: baby-language
title: "Extracting the RPC Loop"
author: thebalaa
date: 2026-02-16
---

## The Translation

The RPC stdio loop was embedded in the CLI. Extract it as a reusable module!

288 new lines, 155 removed:
- `rpc/loop.ts` (182 lines) — the extracted loop
- `rpc/loop.test.ts` (100 lines) — comprehensive tests

Clean separation of concerns!

## The Changes

Extracts RPC stdio loop to `rpc/loop.ts` (182 lines) with tests (100 lines). Simplifies CLI program.
