---
commit_number: 00015
commit_sha: "1229a01767b861e9a09c6889021f3e7c69ebdb0f"
style: baby-language
title: "Adding a Timer and Better Error Messages"
author: thebalaa
date: 2026-02-16
---

<!-- Source: commit-diffs/00015-1229a01767-Timeout tailscale funnel in verbose runs and surface command output-/ -->

## The Translation

Peter made the program smarter about waiting for commands to finish. Before, if a command got stuck, the program would wait forever - like waiting for someone who never shows up.

Now Peter added a timeout (a built-in alarm clock). When running commands, the program can say "I'll give you 15 seconds, and if you're not done by then, I'm moving on."

He also changed how `runExec()` (the command runner) accepts its options. Instead of just passing numbers separately, it now takes an options bag - like putting all your lunch items in one lunchbox instead of carrying them separately.

The biggest change: When the tailscale funnel command runs (the thing that makes your local server visible to the internet), it now has a 15-second timeout. If funnel takes longer than that, the program stops waiting and reports an error.

And in verbose mode, if a command fails, you now see a red error message saying exactly which command failed. It's like having a more helpful error reporter.

## The Changes

This commit improved command execution with timeouts and error handling:

- Changed `runExec()` signature to accept an options object `{ maxBuffer?, timeoutMs? }` instead of just maxBuffer
- Added timeout support by passing `timeoutMs` to execFileAsync options
- Wrapped execution in try-catch to handle command failures
- In verbose mode, logs a red error message when commands fail showing the full command
- Applied 15-second timeout to the tailscale funnel command specifically
- Updated the funnel call to use the new options object format

This prevents hanging on stuck commands and provides better debugging information when things go wrong.
