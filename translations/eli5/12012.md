---
commit_number: 12012
commit_sha: "b7cf28f4070eb99b626ffe1c22a215eb3b057891"
style: eli5
title: "Checking That the Package Includes the Right Tools"
author: balaa
date: 2026-02-16
---

<!-- Source: commit-diffs/12012-b7cf28f407-test-docker- cover browser install build arg-/ -->

## The Translation

Docker is like a shipping container — it packages up the program and everything it needs so you can run it anywhere. Sometimes the program needs a web browser (like Chrome) to do its job. You can tell Docker to include a browser when it builds the container, using a special build argument (a setting you pass in when building) called `OPENCLAW_INSTALL_BROWSER`.

Before this save point, nobody had written a check to make sure this browser-install feature actually worked correctly. So Sebastian wrote one. He added a test that opens up the Docker instructions file (called a Dockerfile — the recipe for building the container) and confirms that the browser-install step is in the right place: after all the regular pieces (pnpm — a tool for managing ingredients) are installed, not before.

This is like checking that the recipe says "add the frosting after the cake is baked" rather than "add the frosting before you mix the batter." The check makes sure nobody accidentally moves these steps around in the future.

## The Changes

- Added a new test file `src/dockerfile.test.ts` that reads the project's `Dockerfile` and asserts that:
  - The `pnpm install --frozen-lockfile` step is present.
  - The `ARG OPENCLAW_INSTALL_BROWSER` build argument appears after the install step.
  - The Dockerfile contains instructions to install Chromium via Playwright and install Xvfb (a tool that lets a browser run without a visible screen).
- Updated `CHANGELOG.md` to add a note about the new optional `OPENCLAW_INSTALL_BROWSER` Docker build argument.
