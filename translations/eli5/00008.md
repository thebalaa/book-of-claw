---
commit_number: 00008
commit_sha: "b9c9339ae48bcb7a2693dd762f51b4a33c7c6b80"
style: eli5
title: "Helpful Prompts When Tools Are Missing"
author: thebalaa
date: 2026-02-16
---

<!-- Source: commit-diffs/00008-b9c9339ae4-Add guided funnel fallback- prompt to install Go-tailscaled when funnel disabled/commit-info.txt -->

## The Translation

Peter made the setup process even more helpful! Remember when he added a check for "Funnel" being turned on? Now, instead of just saying "sorry, can't help you," the tool actually offers to help you fix the problem.

Here's what happens now if Funnel isn't enabled:

1. The tool detects the problem and explains it clearly with helpful links
2. It asks: "Want me to help you set up an alternative (a different way)?"
3. If you say yes, it checks if you have the tools you need (Go and tailscaled)
4. If you're missing those tools, it asks: "Should I install them for you with Homebrew?"
5. If you say yes, it installs them automatically!

It's like having a friend who doesn't just tell you "this doesn't work" - they say "this doesn't work, but I can help you fix it. Want me to?"

Peter added a new function called `promptYesNo` that asks questions and waits for your answer (y/n), plus two new helpers that make sure Go and tailscaled are installed.

## The Changes

This commit added interactive prompts to handle missing dependencies when Tailscale Funnel is not enabled. Changes to `src/index.ts`:

- Added `promptYesNo()` function using readline for interactive yes/no prompts
- Added `ensureGoInstalled()` function that offers to install Go via Homebrew if missing
- Added `ensureTailscaledInstalled()` function that offers to install tailscale package via Homebrew
- Modified `ensureFunnel()` to prompt user when Funnel is disabled, offering to set up user-space tailscaled as alternative
- Added helpful error messages with documentation links

The commit also imported `readline` and process stdin/stdout for user interaction. This makes the setup process more guided and user-friendly instead of failing with errors when optional components are missing.
