---
commit_number: 00004
commit_sha: "a2b73ec5710ecc276be898d1bb5511f940e8b646"
style: eli5
title: "Better Error Messages for Missing Tools"
author: thebalaa
date: 2026-02-16
---

<!-- Source: commit-diffs/00004-a2b73ec571-Improve setup- detect missing Tailscale Funnel and document requirement-/ -->

## The Translation

Peter made the setup helper (the `setup` command) smarter. Before, if you tried to use it without turning on something called "Funnel" (a special setting you need), it would just crash and leave you confused.

Now it checks first: "Hey, is Funnel turned on?" If it's not, instead of breaking, it tells you exactly what's wrong and how to fix it. It's like a recipe that says "Make sure the oven is on before you start" instead of just saying "Put the cake in" and hoping you figure it out.

He also added a note in the instruction manual (README) explaining that you need Funnel enabled, and what to do if it isn't.

## The Changes

This commit improved error handling in the `setup` command. It added logic to check if Tailscale Funnel is enabled before attempting to use it. The changes include:

- Modified `ensureFunnel()` function in `src/index.ts` to check funnel status using `tailscale funnel status --json` before attempting to enable it
- Added clearer error message when Funnel is not enabled, directing users to enable it in the Tailscale admin console
- Updated README.md to document the Funnel requirement and provide alternative solutions (manual tunnel setup)
- Added `--yes` and `--bg` flags to the funnel enable command

The changes make the setup process more user-friendly by detecting and explaining configuration issues upfront.
