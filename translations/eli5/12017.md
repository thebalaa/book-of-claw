---
commit_number: 12017
commit_sha: "759c7fc18e4883a1068944793c0ea4bb310b119d"
style: eli5
title: "Taking Out the Pre-Recorded Greeting and Going Back to the Simpler Way"
author: balaa
date: 2026-02-16
---

<!-- Source: commit-diffs/12017-759c7fc18e-revert-voice-call- remove cached inbound greeting-/ -->

## The Translation

When someone calls in, the program can say a greeting out loud. Someone had added a clever trick: record the greeting ahead of time (before any call comes in), store it like a saved audio clip, and then play it instantly the moment a call connects — so there's no waiting. Think of it like pre-recording a voicemail greeting so you don't have to speak it fresh every time.

This save point removes that trick. Sebastian deleted the pre-recorded greeting feature entirely. The code that stored the audio clip, the code that played it back, and all the wiring that connected them — all gone. The program goes back to the simpler approach: when a call connects, wait a short moment (half a second) and then speak the greeting fresh. It's a little slower than the pre-recorded version, but it's simpler and easier to understand.

The pre-recorded approach had some tricky pieces — like what happens if the recording fails, or if the program restarts. Going back to the simple way removes all that complexity.

## The Changes

- Removed `cachedGreetingAudio` storage, `setCachedGreetingAudio`, and `getCachedGreetingAudio` methods from the `TwilioProvider` class in `extensions/voice-call/src/providers/twilio.ts`.
- Removed the pre-caching block from `extensions/voice-call/src/runtime.ts` that synthesized the inbound greeting TTS (text-to-speech) at startup and stored it on the provider.
- Simplified `extensions/voice-call/src/webhook.ts` by removing the cached-audio playback path and the fallback logic. Replaced both with a single `setTimeout` of 500 ms before calling `speakInitialMessage`, making the greeting always use the fresh-synthesis path.
