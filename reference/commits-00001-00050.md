# Commit Reference: 00001â€“00050

A plain factual summary of every commit in the OpenClaw repository, from the initial commit through commit 50. This document serves as the source of truth for all literary translations.

All commits are by **Peter Steinberger** (steipete@gmail.com) on **2025-11-24**.

---

## 00001 â€” Initial commit
**SHA:** f6dd362d39 Â· **Time:** 11:16
**Files changed:** LICENSE
**Tags:** `genesis`

Created the repository with a single file: the MIT License (`LICENSE`). No source code. Established open-source licensing terms permitting free use, modification, and distribution.

## 00002 â€” Add warelay CLI with Twilio webhook support
**SHA:** 16dfc1a5b9 Â· **Time:** 11:23
**Files changed:** .env.example, .gitignore, README.md, package.json, src/index.ts, tsconfig.json
**Tags:** `core-feature`, `twilio-api`, `documentation`

Created the Warelay CLI application â€” a TypeScript-based WhatsApp message relay using the Twilio API. Includes webhook server for receiving messages, polling mode for checking messages, setup command for configuring Tailscale Funnel, and send command. Adds `package.json`, `tsconfig.json`, `.env.example`, `README.md`, and the main `cli.ts`.

## 00003 â€” Remove deprecated @types/json5 (json5 has built-in types)
**SHA:** 4001fb58b0 Â· **Time:** 11:26
**Files changed:** package.json
**Tags:** `dependency`

Removed the `@types/json5` dev dependency since json5 now ships its own type declarations. A small cleanup of unnecessary dependencies.

## 00004 â€” Improve setup: detect missing Tailscale Funnel and document requirement
**SHA:** a2b73ec571 Â· **Time:** 11:35
**Files changed:** README.md, src/index.ts
**Tags:** `ux`, `documentation`

Enhanced the setup command to detect whether Tailscale Funnel is available and enabled. Added error messages guiding users through Funnel configuration. Updated README with Funnel requirements.

## 00005 â€” Tighten types: remove anys, validate funnel status, typed exec helpers
**SHA:** 1526c238bd Â· **Time:** 11:38
**Files changed:** src/index.ts
**Tags:** `type-safety`, `refactor`

Replaced `any` types throughout the codebase with proper TypeScript types. Added typed wrapper functions for shell command execution. Added validation of Tailscale Funnel status response structure.

## 00006 â€” Add per-function comments and minor typing polish
**SHA:** 8874ebba55 Â· **Time:** 11:40
**Files changed:** src/index.ts
**Tags:** `documentation`

Added JSDoc-style comments to all major functions. Minor additional type refinements. Documentation pass with no behavioral changes.

## 00007 â€” Add ðŸ“¡ emoji to README header
**SHA:** d4153daec4 Â· **Time:** 11:41
**Files changed:** README.md
**Tags:** `naming`, `documentation`

Added a satellite dish emoji (ðŸ“¡) to the project's README title. A cosmetic one-line change.

## 00008 â€” Add guided funnel fallback: prompt to install Go/tailscaled when funnel disabled
**SHA:** b9c9339ae4 Â· **Time:** 11:45
**Files changed:** src/index.ts
**Tags:** `ux`, `core-feature`

When Tailscale Funnel is not available, the setup command now interactively prompts the user to install Go and `tailscaled` as a fallback path. Guides users through the process step-by-step.

## 00009 â€” Setup prompts default to Yes for Go/tailscaled and funnel assist
**SHA:** 80c300cb67 Â· **Time:** 11:47
**Files changed:** src/index.ts
**Tags:** `ux`

Changed the default answer for interactive setup prompts from No to Yes, reducing friction for users following the guided setup flow.

## 00010 â€” Add --verbose flag; silence webhook logs by default
**SHA:** 3198caf430 Â· **Time:** 11:50
**Files changed:** src/index.ts
**Tags:** `verbosity`

Introduced a `--verbose` flag. Webhook request/response logging is now silent by default and only shown when verbose mode is enabled. Reduced noise for normal operation.

## 00011 â€” Verbose mode now logs commands; prompts default to yes
**SHA:** 0c5f3f37b4 Â· **Time:** 11:53
**Files changed:** src/index.ts
**Tags:** `verbosity`

Extended verbose mode to log shell commands as they execute. Also changed remaining interactive prompts to default to Yes.

## 00012 â€” Verbose mode now prints stdout/stderr of invoked commands
**SHA:** 7b7c148f48 Â· **Time:** 11:54
**Files changed:** src/index.ts
**Tags:** `verbosity`

Further extended verbose mode to display the stdout and stderr output of shell commands invoked by the CLI, not just the commands themselves.

## 00013 â€” Add chalk styling and verbose command output
**SHA:** 821b7ae9b9 Â· **Time:** 11:59
**Files changed:** package.json, src/index.ts
**Tags:** `verbosity`, `dependency`

Added the `chalk` library for colored terminal output. Error messages, warnings, and verbose output now use color coding to distinguish message types.

## 00014 â€” Silence dotenv tip output (quiet mode)
**SHA:** 1e00bff96a Â· **Time:** 12:00
**Files changed:** src/index.ts
**Tags:** `verbosity`

Suppressed the informational message that the `dotenv` library prints on load. Reduced unnecessary console noise during normal operation.

## 00015 â€” Timeout tailscale funnel in verbose runs and surface command output
**SHA:** 1229a01767 Â· **Time:** 12:02
**Files changed:** src/index.ts
**Tags:** `verbosity`, `twilio-api`

Added a timeout to the Tailscale Funnel check command to prevent indefinite hangs. Ensured command output is surfaced in verbose mode even when the command times out.

## 00016 â€” Add -y/--yes to auto-confirm prompts; verbose keeps showing command output
**SHA:** 52b0c6252d Â· **Time:** 12:07
**Files changed:** src/index.ts
**Tags:** `ux`, `verbosity`

Added `-y` / `--yes` flag to skip all interactive prompts by auto-confirming them. Useful for scripted or CI usage. Verbose mode continues to show command output alongside auto-confirmation.

## 00017 â€” Improve funnel error UX and add -y auto-confirm
**SHA:** 6c6e217f83 Â· **Time:** 12:30
**Files changed:** src/index.ts
**Tags:** `ux`, `twilio-api`

Rewrote funnel-related error messages to be more actionable. Consolidated the `-y` auto-confirm behavior. Improved the overall user experience when Funnel setup fails.

## 00018 â€” Add TWILIO_SENDER_SID override and better funnel/setup error messages
**SHA:** e52e943317 Â· **Time:** 12:36
**Files changed:** README.md, src/index.ts
**Tags:** `twilio-api`, `ux`

Added support for a `TWILIO_SENDER_SID` environment variable, allowing users to manually specify which Twilio sender to use instead of auto-discovery. Improved error messages in the funnel and setup flows.

## 00019 â€” Fix Twilio sender list call (use params instead of qs)
**SHA:** eb1c4ae7cf Â· **Time:** 12:50
**Files changed:** src/index.ts
**Tags:** `bugfix`, `twilio-api`

Fixed a bug in the Twilio API call for listing senders â€” was passing query string parameters incorrectly using `qs` instead of `params`. The sender list call was failing silently.

## 00020 â€” Tighten types for Twilio requests and sender lookup
**SHA:** 3775caa72d Â· **Time:** 12:53
**Files changed:** src/index.ts
**Tags:** `type-safety`, `twilio-api`

Added proper TypeScript types to the Twilio API request/response handling and sender lookup logic. Removed remaining `any` types in the Twilio integration code.

## 00021 â€” Support TWILIO_SENDER_SID override before sender lookup
**SHA:** 1af210988b Â· **Time:** 12:56
**Files changed:** src/index.ts
**Tags:** `twilio-api`, `refactor`

Reordered the sender discovery logic so that the `TWILIO_SENDER_SID` environment variable is checked *before* making any API calls to discover senders, avoiding unnecessary network requests.

## 00022 â€” Use Twilio SDK channelsSenders.list to discover sender
**SHA:** efe0a76703 Â· **Time:** 12:59
**Files changed:** src/index.ts
**Tags:** `twilio-api`, `refactor`

Replaced the manual HTTP call for sender discovery with the official Twilio SDK method `channelsSenders.list()`. More reliable and less code.

## 00023 â€” Log incoming requests and add 404 handler for webhook server
**SHA:** f7a7b1b29e Â· **Time:** 13:04
**Files changed:** src/index.ts
**Tags:** `verbosity`, `core-feature`

Added logging for all incoming HTTP requests to the webhook server. Added a 404 handler for unrecognized paths, improving debuggability.

## 00024 â€” Keep setup/webhook running with waitForever and graceful SIGINT
**SHA:** fc5f37514 Â· **Time:** 13:25
**Files changed:** src/index.ts
**Tags:** `process-lifecycle`

Added a `waitForever()` function to prevent the Node.js process from exiting after setup or webhook registration. Added graceful shutdown on SIGINT (Ctrl+C) to clean up resources.

## 00025 â€” Run CLI via tsx (no build required); note in README
**SHA:** 5fcbd6aadc Â· **Time:** 13:28
**Files changed:** README.md, package.json
**Tags:** `dependency`, `documentation`

Switched from requiring a TypeScript build step to running directly via `tsx` (TypeScript Execute). Updated README to reflect the simpler workflow â€” users no longer need to run `npm run build`.

## 00026 â€” Keep process alive reliably with unref interval in waitForever
**SHA:** 9bdeb723b4 Â· **Time:** 13:36
**Files changed:** src/index.ts
**Tags:** `process-lifecycle`

Replaced the `waitForever()` implementation. Instead of a referenced interval that would keep the event loop alive, uses an unref'd interval combined with a different mechanism to ensure the process stays alive without blocking graceful shutdown.

## 00027 â€” Add Biome linting and improve webhook error handling
**SHA:** d8bfd6ba5e Â· **Time:** 14:06
**Files changed:** .github/workflows/ci.yml, biome.json, package.json, src/index.ts
**Tags:** `linting`, `core-feature`

Integrated the Biome linter/formatter. Added `biome.json` configuration. Applied linting fixes across the codebase. Improved error handling in the webhook server to catch and log errors rather than crashing.

## 00028 â€” Fallback webhook update to incoming phone number when channels sender update fails
**SHA:** a6e6a26097 Â· **Time:** 14:20
**Files changed:** src/index.ts
**Tags:** `twilio-api`, `bugfix`

Added a fallback path for webhook URL registration: if updating the channel sender's webhook fails, falls back to updating the incoming phone number's webhook URL instead. Handles Twilio API inconsistencies.

## 00029 â€” Rename setup->up (alias kept) and keep process alive
**SHA:** 4a7cfbcc7c Â· **Time:** 14:43
**Files changed:** src/index.ts
**Tags:** `naming`, `core-feature`

Renamed the `setup` command to `up` for brevity. Kept `setup` as a deprecated alias for backward compatibility. Ensured the process stays alive after the `up` command completes.

## 00030 â€” Normalize webhook path, always log inbound, fix Twilio webhook field names, log polling tip
**SHA:** 4f32120176 Â· **Time:** 15:28
**Files changed:** src/index.ts
**Tags:** `bugfix`, `twilio-api`, `verbosity`

Normalized the webhook URL path to ensure consistency. Made inbound message logging unconditional. Fixed incorrect Twilio webhook field names in the update call. Added a log message suggesting polling mode as an alternative.

## 00031 â€” Add wa alias; drop deprecated setup alias
**SHA:** d51cf21131 Â· **Time:** 15:31
**Files changed:** package.json, src/index.ts
**Tags:** `naming`, `dependency`

Added `wa` as a short alias for the main command. Removed the previously deprecated `setup` alias. Streamlined the command interface.

## 00032 â€” Update README for up/poll workflow and aliases
**SHA:** 13355b11d8 Â· **Time:** 15:33
**Files changed:** README.md
**Tags:** `documentation`

Updated README to document the new `up` command, `wa` alias, and polling workflow. Reflected the renamed commands and simplified setup instructions.

## 00033 â€” Fix webhook update: send form fields via request; keep SDK/phone fallbacks
**SHA:** a566ba442b Â· **Time:** 15:37
**Files changed:** src/index.ts
**Tags:** `bugfix`, `twilio-api`

Fixed the webhook URL update to send form-encoded fields correctly in the HTTP request body. Maintained the fallback chain: try SDK update â†’ try phone number update â†’ log error.

## 00034 â€” Log command execution in config-driven replies
**SHA:** 7ed49a6569 Â· **Time:** 15:58
**Files changed:** src/index.ts
**Tags:** `auto-reply`, `verbosity`

Added logging when the auto-reply system executes external commands. Shows which command is being run in response to an incoming message.

## 00035 â€” Add claude auto-reply allowlist and verbose hooks
**SHA:** 42f64279d5 Â· **Time:** 16:00
**Files changed:** README.md, src/index.ts
**Tags:** `auto-reply`, `core-feature`

Added an allowlist mechanism for the Claude-based auto-reply feature â€” only phone numbers on the allowlist receive AI-generated responses. Added verbose logging hooks for the auto-reply pipeline.

## 00036 â€” Document config options and log auto-reply timing
**SHA:** b4a995dbe5 Â· **Time:** 16:02
**Files changed:** README.md, src/index.ts
**Tags:** `auto-reply`, `documentation`

Added documentation for configuration options in the README. Added timing logs showing how long auto-reply commands take to execute.

## 00037 â€” Add command timeout and async polling auto-replies
**SHA:** a5e2636e17 Â· **Time:** 16:06
**Files changed:** src/index.ts
**Tags:** `auto-reply`, `process-lifecycle`

Added a configurable timeout for auto-reply commands to prevent them from running indefinitely. Made auto-replies work in polling mode (not just webhook mode) by processing them asynchronously.

## 00038 â€” Log templated command argv and enforce timeout kill
**SHA:** 17b4c5e7e7 Â· **Time:** 16:09
**Files changed:** src/index.ts
**Tags:** `auto-reply`, `verbosity`

Improved command logging to show the fully resolved command arguments (after template substitution). Added enforcement of the timeout â€” kills the child process if it exceeds the time limit.

## 00039 â€” Log stderr and timeout info for auto-reply commands
**SHA:** fa1b357fd6 Â· **Time:** 16:11
**Files changed:** src/index.ts
**Tags:** `auto-reply`, `verbosity`

Extended auto-reply command logging to capture and display stderr output. Added informational logging when a command is killed due to timeout.

## 00040 â€” Simplify command log to show resolved argv only
**SHA:** 47663c38fe Â· **Time:** 16:11
**Files changed:** src/index.ts
**Tags:** `auto-reply`, `verbosity`

Simplified the auto-reply command logging to show only the final resolved argument vector, removing redundant or intermediate log messages.

## 00041 â€” Run auto-reply commands via spawn with TTY to avoid hangs
**SHA:** 2f5a0d9402 Â· **Time:** 16:15
**Files changed:** src/index.ts
**Tags:** `auto-reply`, `process-lifecycle`

Changed auto-reply command execution from `exec` to `spawn` with TTY (pseudo-terminal) inheritance. Some commands (notably `claude`) hang without a TTY because they detect non-interactive mode and behave differently.

## 00042 â€” Experiment with Twilio webhook updates (no functional change yet)
**SHA:** b453e285fd Â· **Time:** 16:32
**Files changed:** src/index.ts
**Tags:** `twilio-api`

Experimental changes to Twilio webhook update logic. No functional change â€” appears to be exploratory code for testing different API approaches to webhook registration.

## 00043 â€” Add messaging service webhook fallback; always log inbound
**SHA:** 07f0a26419 Â· **Time:** 16:47
**Files changed:** README.md, src/index.ts
**Tags:** `twilio-api`, `verbosity`

Added a third fallback path for webhook registration: try messaging service webhook in addition to channel sender and phone number. Ensured inbound messages are always logged regardless of webhook mode.

## 00044 â€” Improve Twilio webhook update flow
**SHA:** 12a3c11c6d Â· **Time:** 16:56
**Files changed:** README.md, src/index.ts
**Tags:** `twilio-api`, `ux`

Consolidated and cleaned up the Twilio webhook update flow. Streamlined the fallback chain and improved error reporting when all webhook update methods fail.

## 00045 â€” Add WhatsApp Web provider option and docs
**SHA:** 3c8a105165 Â· **Time:** 17:21
**Files changed:** README.md, package.json, src/index.ts
**Tags:** `provider`, `core-feature`, `documentation`

Added an alternative WhatsApp provider using the Baileys library (WhatsApp Web protocol) instead of Twilio. Users can now choose between Twilio (paid, reliable) and Web (free, less stable). Added a `--provider` flag and updated documentation.

## 00046 â€” Add vitest and unit coverage for provider helpers
**SHA:** 657188a7e2 Â· **Time:** 17:23
**Files changed:** package.json, src/index.test.ts, src/index.ts
**Tags:** `testing`

Added the Vitest testing framework. Wrote unit tests covering provider helper functions. Established the project's first test infrastructure.

## 00047 â€” Update deps to latest and align tests
**SHA:** f88b3ceb7a Â· **Time:** 17:33
**Files changed:** package.json, src/index.test.ts, src/index.ts, tsconfig.json
**Tags:** `dependency`, `testing`

Updated all dependencies to their latest versions. Adjusted tests to accommodate any breaking changes from the dependency updates.

## 00048 â€” Refactor CLI into modules for web provider and utils
**SHA:** cafca5c421 Â· **Time:** 17:43
**Files changed:** src/globals.ts, src/index.ts, src/provider-web.ts, src/utils.ts
**Tags:** `refactor`, `provider`

Broke the monolithic `cli.ts` into separate modules: extracted the Web provider logic into its own module and utility functions into a utils module. Improved code organization and separation of concerns.

## 00049 â€” Add utility tests for paths, prefixes, and sleep
**SHA:** 574a96050b Â· **Time:** 17:45
**Files changed:** src/utils.test.ts
**Tags:** `testing`

Added unit tests for utility functions: path normalization, prefix handling, and the sleep/delay helper. Extended test coverage to the newly extracted utils module.

## 00050 â€” Use generic phone examples in README
**SHA:** dfd764fc71 Â· **Time:** 17:46
**Files changed:** README.md
**Tags:** `documentation`

Replaced real-looking phone numbers in README examples with clearly generic placeholder numbers. A documentation hygiene change to avoid confusion or accidental use of example numbers.
