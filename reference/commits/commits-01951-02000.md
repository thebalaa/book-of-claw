# Commit Reference: 01951–02000

A plain factual summary of every commit in the OpenClaw repository, from commit 1951 through commit 2000.

---

## 01951 — feat(macos): load models from gateway
**SHA:** 8c18dd40a3 · **Date:** 2025-12-20 23:24
**Files changed:** apps/macos/Sources/Clawdis/ConfigSettings.swift, apps/macos/Sources/Clawdis/DebugSettings.swift, apps/macos/Sources/Clawdis/GatewayConnection.swift, apps/macos/Sources/Clawdis/SessionData.swift
**Tags:** `core-feature`, `api`, `config`

Updates macOS model configuration to load models from the gateway instead of only local files. Adds gateway request for models.list RPC and implements fallback to local catalog when gateway is unavailable. Adds UI label showing the source of the loaded models.

---

## 01952 — fix: pre-size menu context card
**SHA:** ce4b68d5fb · **Date:** 2025-12-20 23:38
**Files changed:** apps/macos/Sources/Clawdis/MenuContextCardInjector.swift
**Tags:** `bugfix`, `ux`

Fixes menu context card width calculation by pre-sizing the hosting view before measuring fit. Ensures the context card menu appears at correct width instead of resizing after initial display.

---

## 01953 — feat(macos): add connections settings
**SHA:** 43ba1671f1 · **Date:** 2025-12-20 23:41
**Files changed:** apps/macos/Sources/Clawdis/SettingsRootView.swift, apps/macos/Sources/Clawdis/ConnectionSettings.swift, docs/connections.md
**Tags:** `core-feature`, `ui`, `documentation`

Adds new connections settings tab on macOS to manage gateway and network connections. Includes settings for Tailscale configuration and gateway connection preferences with documentation guide.

---

## 01954 — chore(macos): tidy discovery and runtime
**SHA:** df9e4bdd63 · **Date:** 2025-12-20 23:30
**Files changed:** apps/macos/Sources/Clawdis/MasterDiscoveryModel.swift, apps/macos/Sources/Clawdis/MasterDiscoveryMenu.swift
**Tags:** `cleanup`, `refactor`

Cleans up and reorganizes gateway discovery and runtime initialization code on macOS. Improves code structure and naming consistency in discovery-related classes.

---

## 01955 — feat(web): emit provider status updates
**SHA:** 873daf079c · **Date:** 2025-12-20 23:30
**Files changed:** src/web/provider.ts, src/gateway/server.ts, src/gateway/protocol/schema.ts
**Tags:** `core-feature`, `api`, `networking`

Implements provider status update events that are emitted to all connected clients when a provider's authentication state changes. Updates gateway protocol schema to support provider status RPC notifications.

---

## 01956 — chore(android): update icons and platform config
**SHA:** c1050da852 · **Date:** 2025-12-20 23:30
**Files changed:** apps/android/app/src/main/res/drawable-*, apps/android/build.gradle.kts
**Tags:** `cleanup`, `config`, `ui`

Updates Android app icons and platform configuration files. Synchronizes icon assets and build configuration with latest design requirements.

---

## 01957 — chore(android): update kotlin compiler settings
**SHA:** 878f074494 · **Date:** 2025-12-20 23:35
**Files changed:** apps/android/build.gradle.kts
**Tags:** `cleanup`, `build`, `config`

Updates Kotlin compiler settings in Android gradle configuration to use latest compiler version and enable new language features. Improves build compatibility and code quality checks.

---

## 01958 — chore(deps): update dependencies
**SHA:** 591120a7f7 · **Date:** 2025-12-20 22:44
**Files changed:** package-lock.json, package.json, apps/ios/Podfile.lock
**Tags:** `dependency`, `maintenance`

Bumps various project dependencies to latest available versions. Updates npm packages and iOS CocoaPods for security and feature improvements across the project.

---

## 01959 — chore(canvas): rebuild a2ui bundle
**SHA:** fe0fb8d296 · **Date:** 2025-12-20 22:45
**Files changed:** apps/macos/Sources/Clawdis/Resources/WebChat/a2ui.bundle.js, apps/ios/Sources/Resources/a2ui.bundle.js
**Tags:** `build`, `cleanup`

Rebuilds the A2UI canvas bundle to include latest component changes and bug fixes. Synchronizes canvas UI library across macOS and iOS platforms.

---

## 01960 — test(gateway): cover provider status/logout RPCs
**SHA:** df54fc6098 · **Date:** 2025-12-20 23:51
**Files changed:** src/gateway/server.test.ts
**Tags:** `testing`, `api`

Adds comprehensive test coverage for provider status and logout RPC handlers. Tests provider authentication state transitions and logout functionality through the gateway protocol.

---

## 01961 — style(chat): use integrated bubble tail
**SHA:** 02f6cac9d6 · **Date:** 2025-12-20 23:00
**Files changed:** apps/shared/ClawdisKit/Sources/ClawdisChatUI/ChatBubble.swift
**Tags:** `cleanup`, `ui`, `ux`

Updates chat bubble styling to use an integrated tail design instead of separate tail elements. Improves visual consistency and rendering performance of chat message bubbles.

---

## 01962 — chore(deps): update lockfile
**SHA:** f7aabeba04 · **Date:** 2025-12-20 23:00
**Files changed:** package-lock.json
**Tags:** `dependency`, `maintenance`

Updates npm package lock file to reflect resolved dependency tree. Ensures consistent dependency versions across development environments.

---

## 01963 — fix(chat): refine onboarding bubbles
**SHA:** 80f70a58e3 · **Date:** 2025-12-20 23:15
**Files changed:** apps/shared/ClawdisKit/Sources/ClawdisChatUI/ChatView.swift, src/gateway/server.ts
**Tags:** `bugfix`, `ux`, `api`

Refines the appearance and behavior of onboarding bubbles in the chat interface. Updates gateway server to send better formatted onboarding messages and improves bubble layout in SwiftUI.

---

## 01964 — fix(onboarding): fit chat card
**SHA:** 1d7110ea8f · **Date:** 2025-12-20 23:15
**Files changed:** apps/macos/Sources/Clawdis/Onboarding.swift
**Tags:** `bugfix`, `ux`

Fixes onboarding screen layout to properly fit the chat input card within available space. Adjusts padding and sizing constraints to prevent card clipping on macOS.

---

## 01965 — chore(ios): link AppIntents framework
**SHA:** 1d715d7b1b · **Date:** 2025-12-21 00:22
**Files changed:** apps/ios/Clawdis.xcodeproj/project.pbxproj
**Tags:** `build`, `config`

Adds AppIntents framework linking to iOS Xcode project. Enables iOS app to expose app intents for Siri and Shortcuts integration.

---

## 01966 — style(chatui): fix SwiftFormat warnings
**SHA:** aae68e4f82 · **Date:** 2025-12-21 00:22
**Files changed:** apps/shared/ClawdisKit/Sources/ClawdisChatUI/ChatComposer.swift
**Tags:** `cleanup`

Applies SwiftFormat style fixes to chat UI code to resolve formatter warnings. Ensures consistent code formatting across the shared chat UI module.

---

## 01967 — style(tests): format gateway server test
**SHA:** ef20053e72 · **Date:** 2025-12-21 00:22
**Files changed:** src/gateway/server.test.ts
**Tags:** `cleanup`

Applies formatting standardization to gateway server test file. Ensures consistent test code style and readability.

---

## 01968 — fix(mac): re-ensure remote gateway tunnel
**SHA:** 62f624b66b · **Date:** 2025-12-21 00:22
**Files changed:** apps/macos/Sources/Clawdis/GatewayConnection.swift
**Tags:** `bugfix`, `networking`

Fixes gateway tunnel connection on macOS to re-establish remote tunnel when connection drops. Ensures persistent gateway connectivity even when network conditions change.

---

## 01969 — chore(canvas): rebuild a2ui bundle
**SHA:** fb8da15b01 · **Date:** 2025-12-21 00:22
**Files changed:** apps/macos/Sources/Clawdis/Resources/WebChat/a2ui.bundle.js, apps/ios/Sources/Resources/a2ui.bundle.js
**Tags:** `build`, `cleanup`

Rebuilds the A2UI canvas bundle with latest component updates. Synchronizes canvas library version across all platform implementations.

---

## 01970 — chore(canvas): refresh a2ui bundle
**SHA:** bc3f744e45 · **Date:** 2025-12-21 00:24
**Files changed:** apps/macos/Sources/Clawdis/Resources/WebChat/a2ui.bundle.js, apps/ios/Sources/Resources/a2ui.bundle.js
**Tags:** `build`, `cleanup`

Refreshes A2UI canvas bundle to include latest bug fixes and optimizations. Updates canvas rendering across macOS and iOS to latest available version.

---

## 01971 — fix(onboarding): lift bottom bar
**SHA:** 65056915d3 · **Date:** 2025-12-20 23:36
**Files changed:** apps/macos/Sources/Clawdis/Onboarding.swift
**Tags:** `bugfix`, `ux`

Adjusts onboarding layout to reposition the bottom navigation bar higher on screen. Improves visual spacing and accessibility of onboarding controls.

---

## 01972 — fix(macos): simplify skills view and resize onboarding
**SHA:** b4af7b919e · **Date:** 2025-12-20 23:45
**Files changed:** apps/macos/Sources/Clawdis/SkillsView.swift, apps/macos/Sources/Clawdis/Onboarding.swift
**Tags:** `bugfix`, `ux`, `refactor`

Simplifies the macOS skills view layout and resizes onboarding container. Reduces visual complexity and improves onboarding flow presentation.

---

## 01973 — fix(onboarding): nudge bottom padding
**SHA:** 78159a9435 · **Date:** 2025-12-20 23:52
**Files changed:** apps/macos/Sources/Clawdis/Onboarding.swift
**Tags:** `bugfix`, `ux`

Fine-tunes bottom padding in onboarding screen for better visual balance. Adjusts spacing to improve layout appearance on different screen sizes.

---

## 01974 — fix: restore canvas action bridge
**SHA:** 2b2f13ca79 · **Date:** 2025-12-21 00:53
**Files changed:** apps/shared/ClawdisKit/Sources/ClawdisChatUI/CanvasActionBridge.swift, apps/ios/Sources/Screen/ScreenController.swift
**Tags:** `bugfix`, `api`, `networking`

Restores canvas action bridge functionality that was inadvertently broken. Re-enables communication between canvas UI and native app code for handling user actions.

---

## 01975 — fix: emit delta-only node system events
**SHA:** 383097a03a · **Date:** 2025-12-21 00:55
**Files changed:** src/gateway/server.ts, src/infra/system-events.ts
**Tags:** `bugfix`, `api`

Fixes node system events to only emit delta (changed) properties instead of full object state. Reduces bandwidth and improves efficiency of system event streaming.

---

## 01976 — fix: streamline WhatsApp login flow
**SHA:** 98891103d0 · **Date:** 2025-12-21 00:59
**Files changed:** src/web/whatsapp.ts, src/gateway/server.ts
**Tags:** `bugfix`, `ux`, `api`

Streamlines the WhatsApp login flow by removing unnecessary steps and simplifying state transitions. Improves user experience during WhatsApp provider authentication.

---

## 01977 — feat: refine skills install actions
**SHA:** e94aa296e2 · **Date:** 2025-12-21 01:07
**Files changed:** apps/macos/Sources/Clawdis/SkillsInstallerView.swift, apps/ios/Sources/Settings/SkillsView.swift, apps/android/app/src/main/java/com/steipete/clawdis/SkillsInstaller.kt
**Tags:** `core-feature`, `ui`, `ux`

Refines the skills installation UI and actions across all platforms. Improves user experience by clarifying installation steps and providing better feedback during skills installation.

---

## 01978 — chore: ignore ClawdisKit .swiftpm
**SHA:** 7b6eaa819e · **Date:** 2025-12-21 01:10
**Files changed:** .gitignore
**Tags:** `cleanup`, `config`

Adds ClawdisKit .swiftpm directory to gitignore. Prevents Swift Package Manager build artifacts from being tracked in version control.

---

## 01979 — feat(ui): expand control dashboard
**SHA:** 6ff837125475 · **Date:** 2025-12-21 00:34
**Files changed:** apps/macos/Sources/Clawdis/ControlDashboard.swift, apps/ios/Sources/Control/ControlView.swift
**Tags:** `core-feature`, `ui`, `ux`

Expands the control dashboard with new monitoring and management capabilities. Adds widgets for system status, resource monitoring, and quick actions across macOS and iOS.

---

## 01980 — fix(ui): stabilize skills action column
**SHA:** fedb24caf1 · **Date:** 2025-12-21 00:37
**Files changed:** apps/macos/Sources/Clawdis/SkillsView.swift, apps/ios/Sources/Settings/SkillsView.swift
**Tags:** `bugfix`, `ux`

Stabilizes the skills action column layout to prevent layout thrashing when skills list updates. Improves UI responsiveness when managing installed skills.

---

## 01981 — fix(gateway): avoid crash in handshake auth
**SHA:** d69064f364 · **Date:** 2025-12-21 00:41
**Files changed:** src/gateway/server.ts, src/gateway/auth.ts
**Tags:** `bugfix`, `error-handling`, `stability`

Adds null checks and error handling in gateway authentication handshake to prevent crashes on malformed requests. Improves robustness when clients send unexpected authentication messages.

---

## 01982 — feat(gateway): add tailscale auth + pam
**SHA:** 053c8d5731 · **Date:** 2025-12-21 00:44
**Files changed:** src/gateway/auth.ts, src/infra/tailscale.ts, docs/tailscale.md
**Tags:** `core-feature`, `security`, `api`, `documentation`

Implements Tailscale-based authentication for gateway access and integrates PAM (Pluggable Authentication Modules) for system authentication. Enables secure network identity verification through Tailscale integration.

---

## 01983 — fix(mac): restore skills install ForEach
**SHA:** 78263e81f1 · **Date:** 2025-12-21 00:46
**Files changed:** apps/macos/Sources/Clawdis/SkillsInstallerView.swift
**Tags:** `bugfix`, `ui`

Restores ForEach loop in macOS skills installer view that was accidentally removed. Fixes rendering of skills list in installation UI.

---

## 01984 — fix(mac): disambiguate skills install ForEach
**SHA:** 1cb85fdea8 · **Date:** 2025-12-21 00:47
**Files changed:** apps/macos/Sources/Clawdis/SkillsInstallerView.swift
**Tags:** `bugfix`, `ui`

Adds explicit ID parameters to ForEach loops in skills installer to fix SwiftUI rendering issues. Clarifies which data element each view is bound to.

---

## 01985 — build: update iOS lint scripts
**SHA:** fef1841fee · **Date:** 2025-12-21 01:47
**Files changed:** scripts/ios-lint.sh, scripts/swiftlint-config.yml
**Tags:** `build`, `devops`

Updates iOS linting scripts and SwiftLint configuration to enforce latest code style standards. Improves code quality checks in iOS build pipeline.

---

## 01986 — fix: use A2UI message context
**SHA:** 406a94bf76 · **Date:** 2025-12-21 01:48
**Files changed:** apps/shared/ClawdisKit/Sources/ClawdisChatUI/ChatView.swift, apps/macos/Sources/Clawdis/ChatWindowController.swift
**Tags:** `bugfix`, `ui`, `api`

Updates chat message rendering to properly use A2UI message context for styling and formatting. Ensures message content is displayed with correct A2UI theming and context.

---

## 01987 — fix(mac): avoid buttonStyle ternary
**SHA:** aa198594fd · **Date:** 2025-12-21 00:48
**Files changed:** apps/macos/Sources/Clawdis/ToolsSettings.swift
**Tags:** `bugfix`, `ui`

Refactors macOS UI code to avoid ternary operator in buttonStyle modifier. Improves code readability and works around SwiftUI compilation issues with complex ternaries.

---

## 01988 — ci: split ios workflow
**SHA:** a01f4998c5 · **Date:** 2025-12-21 00:49
**Files changed:** .github/workflows/ios-build.yml, .github/workflows/ios-test.yml
**Tags:** `devops`, `build`

Splits the iOS CI/CD workflow into separate build and test jobs. Improves workflow execution time and allows parallel execution of independent build steps.

---

## 01989 — docs: fix npmjs header image
**SHA:** e02944c323 · **Date:** 2025-12-21 01:51
**Files changed:** README.md, docs/npmjs.md
**Tags:** `documentation`, `cleanup`

Fixes broken header image reference in npm package documentation. Updates image path and ensures npm registry page displays correctly with proper header.

---

## 01990 — docs: add 2.0.0-beta2 changelog
**SHA:** d2fda411f3 · **Date:** 2025-12-21 01:54
**Files changed:** CHANGELOG.md, docs/releases.md
**Tags:** `documentation`

Adds comprehensive changelog for version 2.0.0-beta2 release. Documents new features, bug fixes, and breaking changes in this beta release cycle.

---

## 01991 — fix(mac): shrink onboarding height
**SHA:** de2fd659ab · **Date:** 2025-12-21 00:57
**Files changed:** apps/macos/Sources/Clawdis/Onboarding.swift
**Tags:** `bugfix`, `ux`

Reduces the height of the onboarding window on macOS to fit better on smaller screens. Improves visibility and accessibility of onboarding content.

---

## 01992 — build: silence mac packaging warnings
**SHA:** 382d237a60 · **Date:** 2025-12-21 02:06
**Files changed:** scripts/build-mac.sh, build-settings.xcconfig
**Tags:** `build`, `devops`

Adds compiler flags to suppress non-critical packaging warnings during macOS build process. Improves build output readability by filtering out expected warnings.

---

## 01993 — docs: clarify wacli usage
**SHA:** 104e265633 · **Date:** 2025-12-21 02:14
**Files changed:** docs/wacli.md, README.md
**Tags:** `documentation`

Clarifies documentation for the wacli (WhatsApp CLI) tool usage and command examples. Provides better guidance on common use cases and configuration options.

---

## 01994 — feat(mac): add tailscale settings
**SHA:** 28ad475ab4 · **Date:** 2025-12-21 01:16
**Files changed:** apps/macos/Sources/Clawdis/ConnectionSettings.swift, apps/macos/Sources/Clawdis/SettingsRootView.swift
**Tags:** `core-feature`, `ui`, `config`

Adds Tailscale configuration settings to the macOS application settings panel. Allows users to configure Tailscale network preferences directly from the app.

---

## 01995 — Give workspace templates actual personality
**SHA:** 4e1fe88195 · **Date:** 2025-12-21 01:24
**Files changed:** docs/SOUL.md, docs/IDENTITY.md, docs/USER.md, docs/BOOTSTRAP.md, AGENTS.md, TOOLS.md
**Tags:** `documentation`, `ux`

Rewrites workspace documentation templates with personality and genuine voice instead of corporate tone. Updates foundational guides (SOUL, IDENTITY, USER, BOOTSTRAP, AGENTS, TOOLS) to be conversational and helpful rather than robotic.

---

## 01996 — fix(mac): guard onboarding workspace bootstrap
**SHA:** 00cdcd4d28 · **Date:** 2025-12-21 01:31
**Files changed:** apps/macos/Sources/Clawdis/Onboarding.swift
**Tags:** `bugfix`, `error-handling`

Adds safety guard checks in onboarding workspace bootstrap to prevent crashes when workspace initialization fails. Improves error handling during initial application setup.

---

## 01997 — fix: align A2UI canvas background
**SHA:** 4671c9e672 · **Date:** 2025-12-21 02:31
**Files changed:** apps/shared/ClawdisKit/Sources/ClawdisChatUI/CanvasView.swift
**Tags:** `bugfix`, `ui`

Fixes canvas background alignment to match A2UI theme styling. Ensures canvas rendering is properly aligned with surrounding UI components.

---

## 01998 — fix: prefer header mime for media extensions
**SHA:** b82dfe08a2 · **Date:** 2025-12-21 02:34
**Files changed:** src/infra/mime-types.ts, src/web/media-handler.ts
**Tags:** `bugfix`, `api`, `networking`

Updates MIME type detection to prefer Content-Type header values when determining media file types. Improves accuracy when serving media files with non-standard extensions.

---

## 01999 — fix(mac): shrink onboarding height
**SHA:** fb259e8a50 · **Date:** 2025-12-21 01:33
**Files changed:** apps/macos/Sources/Clawdis/Onboarding.swift
**Tags:** `bugfix`, `ux`

Further reduces onboarding window height on macOS for better screen real estate usage. Continues optimization of onboarding UI to fit smaller displays.

---

## 02000 — refactor(macos): remove manual identity onboarding
**SHA:** 5b25eeb449 · **Date:** 2025-12-21 01:39
**Files changed:** apps/macos/Sources/Clawdis/Onboarding.swift, apps/macos/Sources/Clawdis/AgentIdentity.swift
**Tags:** `refactor`, `cleanup`, `ux`

Removes manual identity onboarding steps from macOS application flow. Streamlines first-run experience by eliminating redundant identity setup and deferring to agent creation interface.

---
