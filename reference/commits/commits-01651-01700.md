# Commit Reference: 01651–01700

A plain factual summary of every commit in the OpenClaw repository, from commit 1651 through commit 1700.

---

## 01651 — iOS: fix BridgeClient SwiftFormat indent
**SHA:** 2f21b94a76 · **Date:** 2025-12-18 08:40
**Files changed:** `apps/ios/Sources/Bridge/BridgeClient.swift`
**Tags:** `refactor`

Fixed indentation in BridgeClient.swift to align with SwiftFormat standards. The changes correct the formatting of the BridgePairRequest initialization to use consistent spacing and alignment.

---

## 01652 — ci: fix swiftformat and bun CI
**SHA:** 5c705ab675 · **Date:** 2025-12-18 08:55
**Files changed:** `apps/macos/Sources/Clawdis/AnthropicAuthControls.swift`, `apps/macos/Sources/Clawdis/AnthropicOAuth.swift`, `apps/macos/Sources/Clawdis/Bridge/BridgeServer.swift`, `apps/macos/Sources/Clawdis/CanvasManager.swift`, `apps/macos/Sources/Clawdis/CanvasSchemeHandler.swift`
**Tags:** `refactor`, `build`

Applied comprehensive SwiftFormat fixes across the macOS application codebase and updated CI configuration for bun. Changes include formatting adjustments for method signatures, line breaks, and code organization to match project standards.

---

## 01653 — submodules: bump Peekaboo
**SHA:** 89fcb40557 · **Date:** 2025-12-18 09:06
**Files changed:** `.gitmodules`, `Peekaboo`
**Tags:** `dependency`

Updated the Peekaboo submodule reference to the latest commit and configured the submodule to track the main branch explicitly in .gitmodules configuration.

---

## 01654 — fix(android): allow cleartext for tailnet web
**SHA:** 97ec5d52c3 · **Date:** 2025-12-18 09:12
**Files changed:** `apps/android/app/src/main/AndroidManifest.xml`, `apps/android/app/src/main/res/xml/network_security_config.xml`
**Tags:** `config`, `networking`

Created a network security configuration file to allow HTTP cleartext traffic for tailnet and local development endpoints. Added configuration entries for `clawdis.internal` and `ts.net` domains with cleartext traffic permissions.

---

## 01655 — macOS: add leading device icons in Instances
**SHA:** 2f8b75d86e · **Date:** 2025-12-18 09:15
**Files changed:** `apps/macos/Sources/Clawdis/DeviceModelCatalog.swift`
**Tags:** `ui`, `refactor`

Added a new symbol method to DeviceModelCatalog to provide device icons based on device family and model identifier. This enables display of appropriate device icons in the macOS Instances UI.

---

## 01656 — Docs: use canvas.* invoke namespace
**SHA:** c6421136f9 · **Date:** 2025-12-18 08:20
**Files changed:** Documentation files
**Tags:** `documentation`

Updated documentation to reflect the canvas.* invoke namespace convention for canvas-related operations across the platform.

---

## 01657 — Android: run canvas WebView loads on main
**SHA:** fceab511b3 · **Date:** 2025-12-18 08:31
**Files changed:** Android application files
**Tags:** `bugfix`, `ui`

Modified Android canvas WebView loading to execute on the main thread, ensuring proper UI thread handling for WebView operations.

---

## 01658 — macOS: move instance update info to third row
**SHA:** 24009ed00f · **Date:** 2025-12-18 09:36
**Files changed:** macOS UI files
**Tags:** `ui`

Reorganized the macOS instance display by moving update information to the third row of the instance view, improving layout consistency.

---

## 01659 — macOS: hide node pairing alert host window
**SHA:** 98a745b3df · **Date:** 2025-12-18 09:37
**Files changed:** macOS Clawdis files
**Tags:** `ui`, `bugfix`

Modified the node pairing alert behavior to hide the host window when the alert is displayed, providing a cleaner pairing experience.

---

## 01660 — Tests: cover node.describe for connected unpaired nodes
**SHA:** 0fc5ccb76c · **Date:** 2025-12-18 08:38
**Files changed:** Test files
**Tags:** `testing`

Added test coverage for the node.describe operation when handling connected but unpaired nodes, ensuring proper behavior in this edge case.

---

## 01661 — Tests: show unpaired nodes in nodes status
**SHA:** a74c4db948 · **Date:** 2025-12-18 08:38
**Files changed:** Test files
**Tags:** `testing`

Added test cases to verify that unpaired nodes are properly displayed in the nodes status output, covering the display logic for unpaired device states.

---

## 01662 — fix(android): show backdrop behind WebView
**SHA:** 4a68b4add4 · **Date:** 2025-12-18 09:46
**Files changed:** Android application files
**Tags:** `bugfix`, `ui`

Fixed the Android canvas display by adding a backdrop element behind the WebView component, improving visual presentation and layering.

---

## 01663 — ci: raise iOS coverage
**SHA:** 402b04a68c · **Date:** 2025-12-18 10:34
**Files changed:** CI configuration files
**Tags:** `devops`, `testing`

Updated CI configuration to raise code coverage requirements for iOS builds, enforcing higher testing standards.

---

## 01664 — A2UI: share bundle via ClawdisKit
**SHA:** 0913329b03 · **Date:** 2025-12-18 10:44
**Files changed:** A2UI and ClawdisKit files
**Tags:** `refactor`, `api`

Refactored A2UI bundle distribution to be shared through ClawdisKit framework, centralizing asset management and improving code organization.

---

## 01665 — iOS: support canvas.a2ui push/reset
**SHA:** 6f58a9d643 · **Date:** 2025-12-18 10:44
**Files changed:** `apps/ios/Sources/Bridge/BridgeClient.swift`, iOS canvas files
**Tags:** `core-feature`

Added support for canvas.a2ui push and reset operations in the iOS application, enabling dynamic UI updates through the A2UI protocol.

---

## 01666 — Android: add canvas.a2ui push/reset
**SHA:** cfb36525ab · **Date:** 2025-12-18 10:44
**Files changed:** Android canvas files
**Tags:** `core-feature`

Implemented canvas.a2ui push and reset operations for the Android platform, matching feature parity with iOS implementation.

---

## 01667 — Gateway: optional canvas host
**SHA:** cd729e83b6 · **Date:** 2025-12-18 11:35
**Files changed:** Gateway server files
**Tags:** `config`, `core-feature`

Made the canvas host functionality optional in the Gateway, allowing it to be enabled or disabled based on configuration settings.

---

## 01668 — Docs: document canvasHost
**SHA:** 8a343aedf2 · **Date:** 2025-12-18 11:36
**Files changed:** Documentation files
**Tags:** `documentation`

Added comprehensive documentation for the canvasHost configuration option, including usage guidelines and examples.

---

## 01669 — A2UI: share web UI and action bridge
**SHA:** c61bd6c84d · **Date:** 2025-12-18 11:38
**Files changed:** A2UI framework files
**Tags:** `refactor`, `api`

Refactored A2UI to share both web UI components and action bridge implementation, improving code reusability across platforms.

---

## 01670 — Android: hide Disconnect without remote
**SHA:** e1f320276e · **Date:** 2025-12-18 11:39
**Files changed:** Android UI files
**Tags:** `ui`, `bugfix`

Modified Android application to hide the Disconnect option when no remote node is available, improving UI clarity and preventing invalid operations.

---

## 01671 — Docs: add canvas host usage
**SHA:** 256f0fc765 · **Date:** 2025-12-18 11:39
**Files changed:** Documentation files
**Tags:** `documentation`

Added documentation section describing how to use and configure the canvas host feature.

---

## 01672 — ci: fix swiftformat
**SHA:** dda6d7f9e1 · **Date:** 2025-12-18 12:50
**Files changed:** CI configuration files
**Tags:** `devops`, `build`

Fixed SwiftFormat configuration in the CI pipeline to properly format Swift code according to project standards.

---

## 01673 — feat(canvas): remove setMode; host A2UI in scaffold
**SHA:** 790079c3b6 · **Date:** 2025-12-18 13:18
**Files changed:** Gateway and Canvas files
**Tags:** `core-feature`, `refactor`

Removed the setMode operation from canvas API and moved A2UI hosting responsibility to the scaffold component, simplifying the canvas architecture.

---

## 01674 — chore(naming): remove Iris codename
**SHA:** d182f7e4b2 · **Date:** 2025-12-18 13:18
**Files changed:** Multiple files
**Tags:** `cleanup`

Removed references to the "Iris" codename throughout the codebase as part of project naming standardization.

---

## 01675 — ci: retry submodule checkout
**SHA:** acdf70e928 · **Date:** 2025-12-18 13:26
**Files changed:** CI configuration files
**Tags:** `devops`, `build`

Updated CI configuration to add retry logic for submodule checkout operations, improving build reliability.

---

## 01676 — chore(naming): remove remaining iris references
**SHA:** 982f85bf90 · **Date:** 2025-12-18 13:30
**Files changed:** Multiple files
**Tags:** `cleanup`

Completed removal of all remaining references to the "Iris" codename, ensuring consistent naming across the entire codebase.

---

## 01677 — ci: retry swiftpm build/test
**SHA:** 59f9073e21 · **Date:** 2025-12-18 13:37
**Files changed:** CI configuration files
**Tags:** `devops`, `build`

Enhanced CI pipeline with retry logic for SwiftPM build and test operations, reducing build failures due to transient issues.

---

## 01678 — Gateway: improve verbose ws logs
**SHA:** bb5d26ba9e · **Date:** 2025-12-18 12:47
**Files changed:** Gateway server files
**Tags:** `logging`, `refactor`

Improved WebSocket logging in Gateway's verbose mode to provide more detailed and useful diagnostic information.

---

## 01679 — fix(ios): restore ScreenController.mode
**SHA:** 16e2193911 · **Date:** 2025-12-18 13:56
**Files changed:** iOS screen controller files
**Tags:** `bugfix`

Fixed iOS ScreenController by restoring the mode property that was inadvertently removed or broken in a previous change.

---

## 01680 — Gateway: shorten ws log tag
**SHA:** ba79977f07 · **Date:** 2025-12-18 12:58
**Files changed:** Gateway WebSocket logging files
**Tags:** `logging`

Shortened the WebSocket logging tag in the Gateway to reduce log verbosity while maintaining clarity.

---

## 01681 — style: biome format gateway server
**SHA:** c2b8f9a7c3 · **Date:** 2025-12-18 14:00
**Files changed:** Gateway server files
**Tags:** `refactor`, `build`

Applied Biome code formatter to Gateway server files, ensuring consistent code style and formatting.

---

## 01682 — Gateway: add compact ws verbose logs
**SHA:** ad26026802 · **Date:** 2025-12-18 13:07
**Files changed:** Gateway WebSocket logging files
**Tags:** `logging`, `core-feature`

Added compact WebSocket logging format for verbose mode, providing concise diagnostic output while reducing log size.

---

## 01683 — ci: relax iOS coverage gate
**SHA:** 0b8e8144af · **Date:** 2025-12-18 14:26
**Files changed:** CI configuration files
**Tags:** `devops`

Adjusted iOS code coverage requirements in CI to more realistic thresholds while still maintaining quality standards.

---

## 01684 — Gateway: optimize ws logs in normal mode
**SHA:** d406d3a058 · **Date:** 2025-12-18 13:27
**Files changed:** Gateway WebSocket logging files
**Tags:** `logging`, `performance`

Optimized WebSocket logging in Gateway's normal (non-verbose) mode for better performance and reduced log noise.

---

## 01685 — style: biome format ws logging
**SHA:** 856ce06fda · **Date:** 2025-12-18 14:31
**Files changed:** WebSocket logging files
**Tags:** `refactor`, `build`

Applied Biome formatter to WebSocket logging code to ensure consistent style across the codebase.

---

## 01686 — feat(node): show camera capture HUD
**SHA:** 801e44f4eb · **Date:** 2025-12-18 14:48
**Files changed:** Node camera capture files
**Tags:** `core-feature`, `ui`

Implemented camera capture HUD in the node application, providing visual feedback and controls during camera operations.

---

## 01687 — Web: harden WhatsApp creds handling
**SHA:** 0241f1a29c · **Date:** 2025-12-18 17:19
**Files changed:** Web application files
**Tags:** `security`, `bugfix`

Strengthened credential handling for WhatsApp integration in the web application, improving security and error handling.

---

## 01688 — Web: improve WhatsApp error formatting
**SHA:** 9a4fc3e086 · **Date:** 2025-12-18 18:03
**Files changed:** Web application WhatsApp files
**Tags:** `ux`, `error-handling`

Enhanced error message formatting for WhatsApp-related errors in the web application for better user understanding.

---

## 01689 — Web: fix lint/format for error formatter
**SHA:** ae58838cc5 · **Date:** 2025-12-18 18:22
**Files changed:** Web error formatter files
**Tags:** `refactor`, `build`

Fixed linting and formatting issues in the error formatter module of the web application.

---

## 01690 — iOS: support jpeg canvas snapshots
**SHA:** b5a89e8907 · **Date:** 2025-12-18 19:47
**Files changed:** iOS canvas snapshot files
**Tags:** `core-feature`

Added JPEG format support for canvas snapshots in the iOS application, enabling more efficient image compression.

---

## 01691 — Gateway: raise client maxPayload
**SHA:** 7008493f03 · **Date:** 2025-12-18 19:48
**Files changed:** Gateway server files
**Tags:** `config`, `performance`

Increased the maximum payload size limit for Gateway clients, accommodating larger data transfers.

---

## 01692 — iOS: allow HTTP loads in WKWebView
**SHA:** 2307756892 · **Date:** 2025-12-18 19:59
**Files changed:** iOS WKWebView configuration files
**Tags:** `config`, `networking`

Modified iOS WKWebView configuration to allow loading HTTP content, supporting local development and tailnet endpoints.

---

## 01693 — ClawdisKit: accept jpg for canvas.snapshot
**SHA:** 9062f60e3d · **Date:** 2025-12-18 23:31
**Files changed:** ClawdisKit canvas snapshot files
**Tags:** `core-feature`

Extended ClawdisKit's canvas.snapshot operation to accept JPEG format in addition to existing formats.

---

## 01694 — iOS: allow A2UI actions from local canvas host
**SHA:** 9ace6af3df · **Date:** 2025-12-18 23:31
**Files changed:** iOS A2UI action handler files
**Tags:** `core-feature`

Enabled A2UI action invocation from the local canvas host in iOS, allowing seamless interaction with locally hosted UIs.

---

## 01695 — Android: JPEG canvas snapshots + camera permission prompts
**SHA:** 06f71d883c · **Date:** 2025-12-18 23:32
**Files changed:** Android canvas snapshot and camera files
**Tags:** `core-feature`, `ux`

Implemented JPEG snapshot support for Android canvas and added user-friendly camera permission request prompts.

---

## 01696 — Gateway: enable canvas host + inject action bridge
**SHA:** ac50a14b6a · **Date:** 2025-12-18 23:32
**Files changed:** Gateway canvas host files
**Tags:** `core-feature`, `config`

Enabled canvas host functionality in the Gateway and implemented automatic action bridge injection for proper A2UI communication.

---

## 01697 — CLI: add nodes canvas snapshot + duration parsing
**SHA:** 2a4ccaf993 · **Date:** 2025-12-18 23:32
**Files changed:** CLI files
**Tags:** `core-feature`, `api`

Added nodes canvas snapshot command to the CLI with support for duration parameters, enabling command-line canvas operations.

---

## 01698 — Docs: update canvas host defaults and snapshot formats
**SHA:** f237222bc9 · **Date:** 2025-12-18 23:32
**Files changed:** Documentation files
**Tags:** `documentation`

Updated documentation to reflect canvas host default settings and supported snapshot format options across all platforms.

---

## 01699 — CLI: fix nodes canvas snapshot option typing
**SHA:** c34da133f6 · **Date:** 2025-12-18 23:40
**Files changed:** CLI type definitions
**Tags:** `bugfix`, `refactor`

Corrected type definitions for the nodes canvas snapshot CLI options to ensure proper type checking and IDE support.

---

## 01700 — Gateway: add browser control UI
**SHA:** df0c51a63b · **Date:** 2025-12-18 22:40
**Files changed:** Gateway UI files
**Tags:** `core-feature`, `ui`

Added browser-based control interface to the Gateway, enabling remote control and monitoring through a web UI.

---
