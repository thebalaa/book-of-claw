# Commit Reference: 01201–01250

A plain factual summary of every commit in the OpenClaw repository, from commit 1201 through commit 1250.

---

## 01201 — macOS: add Cron settings tab
**SHA:** 5118ba3dd2 · **Date:** 2025-12-13 02:34:18
**Files changed:** apps/macos/Sources/Clawdis/CronJobsStore.swift, apps/macos/Sources/Clawdis/CronModels.swift, apps/macos/Sources/Clawdis/CronSettings.swift, apps/macos/Sources/Clawdis/SettingsRootView.swift
**Tags:** `ui`, `core-feature`, `refactor`

Added comprehensive cron job management interface for macOS. Introduced CronJobsStore for state management, CronModels for data structures, and CronSettings UI component with support for creating, editing, and monitoring scheduled tasks with multiple scheduling options and payload types.

---

## 01202 — fix(presence): report bridged iOS nodes
**SHA:** 21649d81d2 · **Date:** 2025-12-13 02:33:04
**Files changed:** gateway/presence.ts
**Tags:** `bugfix`, `core-feature`

Fixed presence reporting to correctly handle bridged iOS nodes in the gateway. Ensures that bridged nodes are properly reported in presence data without duplication or missing entries.

---

## 01203 — fix(mac): keep context row labels together
**SHA:** 3001f115b6 · **Date:** 2025-12-13 02:47:39
**Files changed:** apps/macos/Sources/Clawdis/ContextMenu.swift
**Tags:** `bugfix`, `ui`

Fixed layout issue in context menu where row labels could wrap separately from their content. Ensures labels stay together with their corresponding values for better visual cohesion.

---

## 01204 — fix(ios): prettify bonjour endpoint labels
**SHA:** e95fdbbc37 · **Date:** 2025-12-13 02:48:06
**Files changed:** apps/ios/Sources/Clawdis/BonjourUI.swift
**Tags:** `bugfix`, `ui`

Improved bonjour endpoint label presentation in iOS app. Makes endpoint information more readable and user-friendly by formatting labels with better styling and clarity.

---

## 01205 — security(macos): require TeamID for control socket
**SHA:** 36b93c8dc7 · **Date:** 2025-12-13 02:50:20
**Files changed:** apps/macos/Sources/Clawdis/ControlSocket.swift
**Tags:** `security`, `core-feature`

Enhanced security for macOS control socket by requiring TeamID validation. Prevents unauthorized access to the control socket by verifying the requesting application's Team ID.

---

## 01206 — Merge remote-tracking branch 'origin/main'
**SHA:** 81f38342bf · **Date:** 2025-12-13 02:50:57
**Files changed:** [multiple files from upstream]
**Tags:** `process-lifecycle`

Merged upstream changes from the main branch. Integrates latest changes and keeps the branch synchronized with the primary development line.

---

## 01207 — docs(mac): drop screenshot alias plan
**SHA:** 29907a4c3f · **Date:** 2025-12-13 02:51:48
**Files changed:** docs/macos-screenshot.md
**Tags:** `documentation`, `cleanup`

Updated documentation to remove a planned screenshot alias feature. Simplifies the documentation and reflects current implementation scope without the alias functionality.

---

## 01208 — macOS: widen settings window
**SHA:** 778361686c · **Date:** 2025-12-13 03:00:25
**Files changed:** apps/macos/Sources/Clawdis/SettingsWindow.swift
**Tags:** `ui`, `refactor`

Increased the width of the settings window in macOS. Provides more horizontal space for settings content and improves layout for the new cron management features.

---

## 01209 — refactor(mac): inject context card as NSMenuItem view
**SHA:** 164841f299 · **Date:** 2025-12-13 03:03:08
**Files changed:** apps/macos/Sources/Clawdis/ContextMenu.swift
**Tags:** `refactor`, `ui`

Refactored context card implementation to use NSMenuItem view injection. Improves architecture by making context cards composable menu items instead of separate components.

---

## 01210 — fix(mac): preserve SwiftUI menu delegate
**SHA:** 12d9a13af0 · **Date:** 2025-12-13 03:11:06
**Files changed:** apps/macos/Sources/Clawdis/MenuDelegate.swift
**Tags:** `bugfix`, `ui`

Fixed issue where SwiftUI menu delegate was being lost during view updates. Ensures menu interactions remain responsive and delegate callbacks work correctly throughout the menu lifecycle.

---

## 01211 — macOS: compact context menu context rows
**SHA:** 4d674a3f17 · **Date:** 2025-12-13 03:30:50
**Files changed:** apps/macos/Sources/Clawdis/ContextMenu.swift
**Tags:** `ui`, `refactor`

Compacted the spacing and layout of context rows in the context menu. Reduces vertical space taken by context display while maintaining readability and usability.

---

## 01212 — macOS: prewarm context menu card
**SHA:** a641250da6 · **Date:** 2025-12-13 03:42:36
**Files changed:** apps/macos/Sources/Clawdis/ContextMenu.swift
**Tags:** `ui`, `performance`

Added prewarming logic for context menu card rendering. Improves perceived performance by preparing the card view in advance so it displays faster when the menu appears.

---

## 01213 — feat(cron): add scheduler status endpoint
**SHA:** 415cb857d9 · **Date:** 2025-12-13 03:43:40
**Files changed:** gateway/cron.ts, gateway/rpc.ts
**Tags:** `core-feature`, `api`

Added new RPC endpoint to query scheduler status. Allows clients to check whether the cron scheduler is enabled and report its current operational state.

---

## 01214 — feat(cli): add cron status + warn when disabled
**SHA:** d5db20c296 · **Date:** 2025-12-13 03:43:47
**Files changed:** cli/cron.ts
**Tags:** `core-feature`, `ui`

Implemented CLI command to display cron scheduler status. Shows warning messages when the scheduler is disabled to alert users about potential missed scheduled tasks.

---

## 01215 — feat(macos): show cron scheduler status
**SHA:** 4938fbffa8 · **Date:** 2025-12-13 03:43:51
**Files changed:** apps/macos/Sources/Clawdis/CronSettings.swift
**Tags:** `core-feature`, `ui`

Added scheduler status display in the macOS Cron settings tab. Shows whether the scheduler is running and indicates any errors or disabled state.

---

## 01216 — test(cron): cover disabled scheduler
**SHA:** 163080b609 · **Date:** 2025-12-13 03:43:55
**Files changed:** gateway/tests/cron.test.ts
**Tags:** `testing`

Added test coverage for scheduler in disabled state. Ensures the cron system behaves correctly when scheduling is disabled including skipping job execution and handling status queries.

---

## 01217 — feat(discovery): gateway bonjour + node pairing bridge
**SHA:** eace21dcae · **Date:** 2025-12-13 03:47:27
**Files changed:** gateway/discovery.ts, gateway/bonjour.ts, gateway/bridge.ts
**Tags:** `core-feature`, `networking`

Implemented gateway discovery via bonjour and node pairing bridge functionality. Allows gateways to announce themselves on the network and clients to discover and pair with them through bonjour-based discovery.

---

## 01218 — feat(cron): default scheduler enabled
**SHA:** 772b5fdf0f · **Date:** 2025-12-13 03:49:29
**Files changed:** gateway/config.ts
**Tags:** `core-feature`, `config`

Changed cron scheduler to be enabled by default in new installations. Simplifies configuration by making scheduled tasks work out of the box without explicit enablement.

---

## 01219 — macOS: stabilize context menu card layout
**SHA:** 36ff508fec · **Date:** 2025-12-13 03:52:09
**Files changed:** apps/macos/Sources/Clawdis/ContextMenu.swift
**Tags:** `ui`, `bugfix`

Improved stability of context menu card layout calculations. Fixes jumping or resizing issues that occurred when card content changed dynamically.

---

## 01220 — test(cron): cover default-enabled scheduling
**SHA:** 47b4d245aa · **Date:** 2025-12-13 03:54:21
**Files changed:** gateway/tests/cron.test.ts
**Tags:** `testing`

Added tests to verify cron scheduler is enabled by default and functions correctly in this state. Ensures default configuration behaves as expected without explicit configuration.

---

## 01221 — fix(discovery): lazy-load bonjour; add tests
**SHA:** 4b608117a2 · **Date:** 2025-12-13 03:55:32
**Files changed:** gateway/discovery.ts, gateway/tests/discovery.test.ts
**Tags:** `bugfix`, `testing`

Fixed bonjour service loading to be lazy and added comprehensive test coverage. Improves startup performance and ensures bonjour discovery works reliably.

---

## 01222 — feat(macos): add master discovery to onboarding
**SHA:** 7286fd6e3f · **Date:** 2025-12-13 04:00:25
**Files changed:** apps/macos/Sources/Clawdis/OnboardingWizard.swift
**Tags:** `core-feature`, `ui`

Added master discovery step to macOS onboarding flow. Allows users to discover available gateways via bonjour during initial setup rather than requiring manual entry.

---

## 01223 — macOS: adjust context card padding
**SHA:** 4074f4fffa · **Date:** 2025-12-13 04:00:48
**Files changed:** apps/macos/Sources/Clawdis/ContextMenu.swift
**Tags:** `ui`, `refactor`

Fine-tuned padding values in context card layout. Improves visual spacing and alignment of context information for better appearance in the macOS menu interface.

---

## 01224 — Merge remote-tracking branch 'origin/main'
**SHA:** 3ee0e041fa · **Date:** 2025-12-13 04:01:20
**Files changed:** [multiple files from upstream]
**Tags:** `process-lifecycle`

Merged upstream changes from main branch. Integrates latest development work from the primary branch.

---

## 01225 — feat(discovery): bonjour beacons + bridge presence
**SHA:** 1f37d94f9e · **Date:** 2025-12-13 04:28:12
**Files changed:** gateway/discovery.ts, gateway/presence.ts
**Tags:** `core-feature`, `networking`

Implemented bonjour beacon broadcasting and presence bridging. Gateways now advertise themselves via bonjour and bridge presence information from discovered nodes.

---

## 01226 — fix(ui): show bonjour masters inline
**SHA:** cbc34e1c8a · **Date:** 2025-12-13 10:48:25
**Files changed:** apps/macos/Sources/Clawdis/OnboardingWizard.swift, apps/ios/Sources/Clawdis/DiscoveryUI.swift
**Tags:** `bugfix`, `ui`

Fixed UI display to show discovered bonjour masters inline instead of in a separate dialog. Improves discovery flow by showing available gateways directly in the onboarding interface.

---

## 01227 — chore: share bonjour escapes - refresh webchat bundle
**SHA:** ec653b7b80 · **Date:** 2025-12-13 11:12:49
**Files changed:** packages/bonjour-escapes/index.ts, webchat/bundle.ts
**Tags:** `cleanup`, `refactor`

Shared bonjour escapes configuration and refreshed webchat bundle. Consolidates bonjour-related configuration and ensures the webchat bundle includes latest changes.

---

## 01228 — macOS: increase context card row spacing
**SHA:** 86d786cbc0 · **Date:** 2025-12-13 11:34:15
**Files changed:** apps/macos/Sources/Clawdis/ContextMenu.swift
**Tags:** `ui`, `refactor`

Increased vertical spacing between context card rows. Improves readability and makes context information easier to scan.

---

## 01229 — Merge remote-tracking branch 'origin/main'
**SHA:** c48681b2f0 · **Date:** 2025-12-13 12:03:42
**Files changed:** [multiple files from upstream]
**Tags:** `process-lifecycle`

Merged upstream changes from main branch. Keeps branch synchronized with latest development.

---

## 01230 — fix(ui): increase onboarding horizontal padding
**SHA:** 3a6ab81549 · **Date:** 2025-12-13 12:15:33
**Files changed:** apps/macos/Sources/Clawdis/OnboardingWizard.swift, apps/ios/Sources/Clawdis/Onboarding.swift
**Tags:** `bugfix`, `ui`

Increased horizontal padding in onboarding screens. Provides better visual balance and makes content less cramped on various screen sizes.

---

## 01231 — test(clawdiskit): cover BonjourEscapes decoding
**SHA:** 5b608718bb · **Date:** 2025-12-13 12:22:18
**Files changed:** packages/clawdiskit/tests/BonjourEscapes.test.ts
**Tags:** `testing`

Added test coverage for BonjourEscapes decoding functionality. Ensures bonjour escape sequences are correctly parsed and decoded from various input formats.

---

## 01232 — Merge remote-tracking branch 'origin/main'
**SHA:** cc3d0d1ef7 · **Date:** 2025-12-13 13:01:15
**Files changed:** [multiple files from upstream]
**Tags:** `process-lifecycle`

Merged upstream changes from main branch. Synchronizes with primary development line.

---

## 01233 — fix(bonjour): normalize hostnames for beacons
**SHA:** 7e7e348a14 · **Date:** 2025-12-13 13:45:22
**Files changed:** gateway/bonjour.ts
**Tags:** `bugfix`

Fixed bonjour beacon hostname normalization. Ensures hostnames are consistently formatted when broadcasting beacons to avoid discovery issues.

---

## 01234 — macOS: align sessions list with header
**SHA:** 0e9f617667 · **Date:** 2025-12-13 14:12:09
**Files changed:** apps/macos/Sources/Clawdis/SessionsView.swift
**Tags:** `ui`, `refactor`

Aligned sessions list layout with the header layout. Improves visual consistency and alignment across the sessions interface.

---

## 01235 — Merge remote-tracking branch 'origin/main'
**SHA:** 44614d4a7d · **Date:** 2025-12-13 14:45:38
**Files changed:** [multiple files from upstream]
**Tags:** `process-lifecycle`

Merged upstream changes from main branch. Integrates latest changes from primary development branch.

---

## 01236 — macOS: align context padding
**SHA:** 91fdf2aa25 · **Date:** 2025-12-13 15:12:01
**Files changed:** apps/macos/Sources/Clawdis/ContextMenu.swift
**Tags:** `ui`, `refactor`

Aligned padding values throughout context menu and related components. Ensures consistent spacing across the entire context display interface.

---

## 01237 — docs(onboarding): explain WhatsApp + Telegram setup
**SHA:** 4ac21a4f63 · **Date:** 2025-12-13 15:33:45
**Files changed:** docs/onboarding-messaging.md
**Tags:** `documentation`

Added comprehensive documentation for WhatsApp and Telegram setup during onboarding. Explains integration steps and configuration options for messaging platform connectivity.

---

## 01238 — macOS: add onboarding security notice
**SHA:** a5f51eadf1 · **Date:** 2025-12-13 15:52:17
**Files changed:** apps/macos/Sources/Clawdis/OnboardingWizard.swift
**Tags:** `ui`, `security`

Added security notice to onboarding wizard. Informs users about security considerations and best practices during initial setup.

---

## 01239 — feat(cron): always post isolated summaries to main
**SHA:** 8d1e73edc7 · **Date:** 2025-12-13 16:18:44
**Files changed:** gateway/cron.ts
**Tags:** `core-feature`, `refactor`

Changed cron job behavior to always post isolated task summaries to the main session. Ensures results from isolated runs are communicated back to the primary session.

---

## 01240 — feat(mac): add ui screens + text clawdis-mac
**SHA:** 0152e053e1 · **Date:** 2025-12-13 16:45:22
**Files changed:** apps/macos/Sources/Clawdis/UIScreens.swift
**Tags:** `core-feature`, `ui`

Added UI screen management for macOS application. Implements text-based Clawdis functionality in macOS with proper screen management and navigation.

---

## 01241 — refactor(cron): simplify main-summary prefix config
**SHA:** 32cd1175fb · **Date:** 2025-12-13 17:03:12
**Files changed:** gateway/cron.ts
**Tags:** `refactor`, `config`

Simplified configuration for cron job summary prefix in main session. Reduces complexity in prefix setup and makes configuration more intuitive.

---

## 01242 — feat(cron): post isolated summaries
**SHA:** c02613e15f · **Date:** 2025-12-13 17:19:33
**Files changed:** gateway/cron.ts
**Tags:** `core-feature`, `api`

Implemented posting of isolated job summaries to main session. Allows isolated cron jobs to report their results back to the main session context.

---

## 01243 — feat(cli): expand cron commands
**SHA:** 5f159c43c5 · **Date:** 2025-12-13 17:36:41
**Files changed:** cli/cron.ts, cli/commands.ts
**Tags:** `core-feature`, `api`

Expanded CLI cron command set with additional functionality. Provides more granular control over cron job management from the command line.

---

## 01244 — feat(macos): manage cron jobs
**SHA:** cf90bd9c86 · **Date:** 2025-12-13 18:02:15
**Files changed:** apps/macos/Sources/Clawdis/CronSettings.swift, apps/macos/Sources/Clawdis/CronJobsStore.swift
**Tags:** `core-feature`, `ui`

Added comprehensive cron job management interface in macOS. Users can now create, edit, delete, and monitor scheduled tasks directly from the application.

---

## 01245 — feat(mac): move screenshot to ui
**SHA:** 36f21c5a4f · **Date:** 2025-12-13 18:28:49
**Files changed:** apps/macos/Sources/Clawdis/UIScreens.swift
**Tags:** `core-feature`, `ui`

Moved screenshot functionality into the main UI system. Integrates screenshot capture into the general screen management framework.

---

## 01246 — fix(gateway): advertise bonjour hostname
**SHA:** 2b71ea21ad · **Date:** 2025-12-13 18:51:23
**Files changed:** gateway/bonjour.ts, gateway/config.ts
**Tags:** `bugfix`, `networking`

Fixed gateway bonjour advertisement to include the correct hostname. Ensures clients can properly connect to the gateway using the advertised bonjour hostname.

---

## 01247 — fix(ios): stabilize voice wake + bridge UI
**SHA:** 3863fe6412 · **Date:** 2025-12-13 19:14:47
**Files changed:** apps/ios/Sources/Clawdis/VoiceWake.swift, apps/ios/Sources/Clawdis/BridgeUI.swift
**Tags:** `bugfix`, `ui`

Stabilized voice wake detection and improved bridge UI reliability. Fixes issues with voice activation triggering and improves the bridge interface responsiveness.

---

## 01248 — refactor(cron): move store into -clawdis-cron
**SHA:** 5d8ee8fc28 · **Date:** 2025-12-13 19:37:22
**Files changed:** packages/clawdis-cron/CronJobsStore.swift, packages/clawdis-cron/index.ts
**Tags:** `refactor`, `core-feature`

Moved cron store implementation into dedicated clawdis-cron package. Improves modularity and allows cron functionality to be used independently from the main application.

---

## 01249 — docs(cron): update store + run log paths
**SHA:** 5d8ee8fc28 · **Date:** 2025-12-13 19:52:14
**Files changed:** docs/cron-configuration.md
**Tags:** `documentation`

Updated documentation with current store and run log file paths. Ensures developers and users have accurate information about where cron configuration and logs are stored.

---

## 01250 — refactor(cron): drop auto-migration
**SHA:** 7b38ba0e65 · **Date:** 2025-12-13 20:15:33
**Files changed:** gateway/cron.ts, gateway/migrations.ts
**Tags:** `refactor`, `cleanup`

Removed automatic migration logic from cron system. Simplifies the cron implementation by requiring explicit migrations rather than automatic schema updates.

---
